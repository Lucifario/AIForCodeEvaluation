{
  "source_item_id": 136104,
  "source_type": "github",
  "generator_model_id": "llama3-8b-groq",
  "generation_timestamp": "2025-10-26T13:34:21.654554",
  "input_code_language": "java",
  "input_code_snippet": "/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License\n * 2.0; you may not use this file except in compliance with the Elastic License\n * 2.0.\n */\n\npackage org.elasticsearch.xpack.esql.action;\n\nimport org.elasticsearch.Build;\nimport org.elasticsearch.common.util.FeatureFlag;\nimport org.elasticsearch.compute.lucene.read.ValuesSourceReaderOperator;\nimport org.elasticsearch.features.NodeFeature;\nimport org.elasticsearch.rest.action.admin.cluster.RestNodesCapabilitiesAction;\nimport org.elasticsearch.xpack.esql.plugin.EsqlFeatures;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Locale;\nimport java.util.Set;\n\n/**\n * A {@link Set} of \"capabilities\" supported by the {@link RestEsqlQueryAction}\n * and {@link RestEsqlAsyncQueryAction} APIs. These are exposed over the\n * {@link RestNodesCapabilitiesAction} and we use them to enable tests.\n */\npublic class EsqlCapabilities {\n    public enum Cap {\n        /**\n         * Introduction of {@code MV_SORT}, {@code MV_SLICE}, and {@code MV_ZIP}.\n         * Added in #106095.\n         */\n        MV_SORT,\n\n        /**\n         * When we disabled some broken optimizations around {@code nullable}.\n         * Fixed in #105691.\n         */\n        DISABLE_NULLABLE_OPTS,\n\n        /**\n         * Introduction of {@code ST_X} and {@code ST_Y}. Added in #105768.\n         */\n        ST_X_Y,\n\n        /**\n         * Changed precision of {@code geo_point} and {@code cartesian_point} fields, by loading from source into WKB. Done in #103691.\n         */\n        SPATIAL_POINTS_FROM_SOURCE,\n\n        /**\n         * Support for loading {@code geo_shape} and {@code cartesian_shape} fields. Done in #104269.\n         */\n        SPATIAL_SHAPES,\n\n        /**\n         * Do validation check on geo_point and geo_shape fields. Done in #128259.\n         */\n        GEO_VALIDATION,\n\n        /**\n         * Support for spatial aggregation {@code ST_CENTROID}. Done in #104269.\n         */\n        ST_CENTROID_AGG,\n\n        /**\n         * Support for spatial aggregation {@code ST_INTERSECTS}. Done in #104907.\n         */\n        ST_INTERSECTS,\n\n        /**\n         * Support for spatial aggregation {@code ST_CONTAINS} and {@code ST_WITHIN}. Done in #106503.\n         */\n        ST_CONTAINS_WITHIN,\n\n        /**\n         * Support for spatial aggregation {@code ST_DISJOINT}. Done in #107007.\n         */\n        ST_DISJOINT,\n\n        /**\n         * The introduction of the {@code VALUES} agg.\n         */\n        AGG_VALUES,\n\n        /**\n         * Expand the {@code VALUES} agg to cover spatial types.\n         */\n        AGG_VALUES_SPATIAL,\n\n        /**\n         * Accept unsigned longs on MAX and MIN aggregations.\n         */\n        AGG_MAX_MIN_UNSIGNED_LONG,\n\n        /**\n         * Accept unsigned longs on VALUES and SAMPLE aggregations.\n         */\n        AGG_VALUES_SAMPLE_UNSIGNED_LONG,\n\n        /**\n         * Does ESQL support async queries.\n         */\n        ASYNC_QUERY,\n\n        /**\n         * Does ESQL support FROM OPTIONS?\n         */\n        @Deprecated\n        FROM_OPTIONS,\n\n        /**\n         * Cast string literals to a desired data type.\n         */\n        STRING_LITERAL_AUTO_CASTING,\n\n        /**\n         * Base64 encoding and decoding functions.\n         */\n        BASE64_DECODE_ENCODE,\n\n        /**\n         * Support for the :: casting operator\n         */\n        CASTING_OPERATOR,\n\n        /**\n         * Support for the ::date casting operator\n         */\n        CASTING_OPERATOR_FOR_DATE,\n\n        /**\n         * Blocks can be labelled with {@link org.elasticsearch.compute.data.Block.MvOrdering#SORTED_ASCENDING} for optimizations.\n         */\n        MV_ORDERING_SORTED_ASCENDING,\n\n        /**\n         * Support for metrics counter fields\n         */\n        METRICS_COUNTER_FIELDS,\n\n        /**\n         * Cast string literals to a desired data type for IN predicate and more types for BinaryComparison.\n         */\n        STRING_LITERAL_AUTO_CASTING_EXTENDED,\n        /**\n         * Support for metadata fields.\n         */\n        METADATA_FIELDS,\n\n        /**\n         * Support specifically for *just* the _index METADATA field. Used by CsvTests, since that is the only metadata field currently\n         * supported.\n         */\n        INDEX_METADATA_FIELD,\n\n        /**\n         * Support for timespan units abbreviations\n         */\n        TIMESPAN_ABBREVIATIONS,\n\n        /**\n         * Support metrics counter types\n         */\n        COUNTER_TYPES,\n\n        /**\n         * Support for function {@code BIT_LENGTH}. Done in #115792\n         */\n        FN_BIT_LENGTH,\n\n        /**\n         * Support for function {@code BYTE_LENGTH}.\n         */\n        FN_BYTE_LENGTH,\n\n        /**\n         * Support for function {@code REVERSE}.\n         */\n        FN_REVERSE,\n\n        /**\n         * Support for reversing whole grapheme clusters. This is not supported\n         * on JDK versions less than 20 which are not supported in ES 9.0.0+ but this\n         * exists to keep the {@code 8.x} branch similar to the {@code main} branch.\n         */\n        FN_REVERSE_GRAPHEME_CLUSTERS,\n\n        /**\n         * Support for function {@code CONTAINS}. Done in <a href=\"https://github.com/elastic/elasticsearch/pull/133016\">#133016.</a>\n         */\n        FN_CONTAINS,\n\n        /**\n         * Support for function {@code CBRT}. Done in #108574.\n         */\n        FN_CBRT,\n\n        /**\n         * Support for function {@code HYPOT}.\n         */\n        FN_HYPOT,\n\n        /**\n         * Support for {@code MV_APPEND} function. #107001\n         */\n        FN_MV_APPEND,\n\n        /**\n         * Support for {@code MV_MEDIAN_ABSOLUTE_DEVIATION} function.\n         */\n        FN_MV_MEDIAN_ABSOLUTE_DEVIATION,\n\n        /**\n         * Support for {@code MV_PERCENTILE} function.\n         */\n        FN_MV_PERCENTILE,\n\n        /**\n         * Support for function {@code IP_PREFIX}.\n         */\n        FN_IP_PREFIX,\n\n        /**\n         * Fix on function {@code SUBSTRING} that makes it not return null on empty strings.\n         */\n        FN_SUBSTRING_EMPTY_NULL,\n\n        /**\n         * Fixes on function {@code ROUND} that avoid it throwing exceptions on runtime for unsigned long cases.\n         */\n        FN_ROUND_UL_FIXES,\n\n        /**\n         * Support for function {@code SCALB}.\n         */\n        FN_SCALB,\n\n        /**\n         * Support for function DAY_NAME\n         */\n        FN_DAY_NAME,\n\n        /**\n         * Support for function MONTH_NAME\n         */\n        FN_MONTH_NAME,\n\n        /**\n         * support for MV_CONTAINS function\n         * <a href=\"https://github.com/elastic/elasticsearch/pull/133099/\">Add MV_CONTAINS function #133099</a>\n         */\n        FN_MV_CONTAINS_V1,\n\n        /**\n         * Fixes for multiple functions not serializing their source, and emitting warnings with wrong line number and text.\n         */\n        FUNCTIONS_SOURCE_SERIALIZATION_WARNINGS,\n\n        /**\n         * All functions that take TEXT should never emit TEXT, only KEYWORD. #114334\n         */\n        FUNCTIONS_NEVER_EMIT_TEXT,\n\n        /**\n         * Support for the {@code INLINESTATS} syntax.\n         */\n        INLINESTATS(),\n\n        /**\n         * Support for the expressions in grouping in {@code INLINESTATS} syntax.\n         */\n        INLINESTATS_V2(),\n\n        /**\n         * Support for aggregation function {@code TOP}.\n         */\n        AGG_TOP,\n\n        /**\n         * Support for booleans in aggregations {@code MAX} and {@code MIN}.\n         */\n        AGG_MAX_MIN_BOOLEAN_SUPPORT,\n\n        /**\n         * Support for ips in aggregations {@code MAX} and {@code MIN}.\n         */\n        AGG_MAX_MIN_IP_SUPPORT,\n\n        /**\n         * Support for strings in aggregations {@code MAX} and {@code MIN}.\n         */\n        AGG_MAX_MIN_STRING_SUPPORT,\n\n        /**\n         * Support for booleans in {@code TOP} aggregation.\n         */\n        AGG_TOP_BOOLEAN",
  "raw_llm_output": null,
  "parsed_llm_output": null,
  "error": "No response from LLM llama3-8b-groq"
}