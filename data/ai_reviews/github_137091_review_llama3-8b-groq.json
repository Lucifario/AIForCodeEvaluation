{
  "source_item_id": 137091,
  "source_type": "github",
  "generator_model_id": "llama3-8b-groq",
  "generation_timestamp": "2025-10-26T13:41:36.738935",
  "input_code_language": "java",
  "input_code_snippet": "/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the \"Elastic License\n * 2.0\", the \"GNU Affero General Public License v3.0 only\", and the \"Server Side\n * Public License v 1\"; you may not use this file except in compliance with, at\n * your election, the \"Elastic License 2.0\", the \"GNU Affero General Public\n * License v3.0 only\", or the \"Server Side Public License, v 1\".\n */\n\npackage org.elasticsearch.gradle.internal;\n\nimport com.google.common.collect.ArrayListMultimap;\nimport com.google.common.collect.ListMultimap;\n\nimport org.elasticsearch.gradle.internal.test.LegacyRestTestBasePlugin;\nimport org.gradle.api.GradleException;\nimport org.gradle.api.Project;\nimport org.gradle.api.provider.Property;\nimport org.gradle.api.services.BuildService;\nimport org.gradle.api.services.BuildServiceParameters;\n\npublic abstract class RestrictedBuildApiService implements BuildService<RestrictedBuildApiService.Params> {\n\n    public static final String BUILD_API_RESTRICTIONS_SYS_PROPERTY = \"org.elasticsearch.gradle.build-api-restriction.disabled\";\n\n    private static ListMultimap<Class<?>, String> usageWhitelist = createLegacyRestTestBasePluginUsage();\n\n    private static ListMultimap<Class<?>, String> createLegacyRestTestBasePluginUsage() {\n        ListMultimap<Class<?>, String> map = ArrayListMultimap.create(1, 200);\n        map.put(LegacyRestTestBasePlugin.class, \":docs\");\n        map.put(LegacyRestTestBasePlugin.class, \":distribution:docker\");\n        map.put(LegacyRestTestBasePlugin.class, \":modules:reindex\");\n        map.put(LegacyRestTestBasePlugin.class, \":qa:ccs-rolling-upgrade-remote-cluster\");\n        map.put(LegacyRestTestBasePlugin.class, \":qa:mixed-cluster\");\n        map.put(LegacyRestTestBasePlugin.class, \":qa:multi-cluster-search\");\n        map.put(LegacyRestTestBasePlugin.class, \":qa:remote-clusters\");\n        map.put(LegacyRestTestBasePlugin.class, \":qa:repository-multi-version\");\n        map.put(LegacyRestTestBasePlugin.class, \":qa:rolling-upgrade-legacy\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:ent-search\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:qa:mixed-tier-cluster\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:qa:repository-old-versions\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:qa:rolling-upgrade\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:qa:rolling-upgrade-basic\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:qa:rolling-upgrade-multi-cluster\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:qa:runtime-fields:core-with-mapped\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:qa:runtime-fields:core-with-search\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:qa:security-example-spi-extension\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:qa:security-setup-password-tests\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:qa:smoke-test-plugins\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:qa:smoke-test-plugins-ssl\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:qa:smoke-test-security-with-mustache\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:qa:xpack-prefix-rest-compat\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:qa:multi-cluster-search-security:legacy-with-basic-license\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:qa:multi-cluster-search-security:legacy-with-full-license\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:qa:multi-cluster-search-security:legacy-with-restricted-trust\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:qa:third-party:jira\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:qa:third-party:pagerduty\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:qa:third-party:slack\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:ent-search:qa:rest\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:eql:qa:ccs-rolling-upgrade\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:eql:qa:correctness\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:eql:qa:mixed-node\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:identity-provider:qa:idp-rest-tests\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:ilm:qa:multi-cluster\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:ilm:qa:multi-node\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:ilm:qa:rest\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:ml:qa:basic-multi-node\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:ml:qa:disabled\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:ml:qa:ml-with-security\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:ml:qa:multi-cluster-tests-with-security\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:ml:qa:native-multi-node-tests\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:ml:qa:single-node-tests\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:searchable-snapshots:qa:hdfs\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:searchable-snapshots:qa:rest\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:searchable-snapshots:qa:url\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:security:qa:tls-basic\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:shutdown:qa:multi-node\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:shutdown:qa:rolling-upgrade\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:snapshot-based-recoveries:qa:fs\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:snapshot-based-recoveries:qa:license-enforcing\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:snapshot-repo-test-kit:qa:hdfs\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:snapshot-repo-test-kit:qa:rest\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:sql:qa:jdbc:multi-node\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:sql:qa:jdbc:no-sql\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:sql:qa:jdbc:single-node\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:sql:qa:jdbc:security:with-ssl\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:sql:qa:jdbc:security:without-ssl\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:sql:qa:mixed-node\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:sql:qa:server:security:with-ssl\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:sql:qa:server:security:without-ssl\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:text-structure:qa:text-structure-with-security\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:transform:qa:multi-cluster-tests-with-security\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:transform:qa:multi-node-tests\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:transform:qa:single-node-tests\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:watcher:qa:rest\");\n        map.put(LegacyRestTestBasePlugin.class, \":x-pack:plugin:watcher:qa:with-security\");\n        return map;\n    }\n\n    public void failOnUsageRestriction(Class<?> aClass, Project project) {\n        if (getParameters().getDisabled().getOrElse(false)) {\n            return;\n        }\n        if (isSupported(aClass, project.getPath()) == false) {\n            throw new GradleException(\"Usage of deprecated \" + aClass.getName() + \" in \" + project.getPath());\n        }\n    }\n\n    private boolean isSupported(Class<?> aClass, String path) {\n        return usageWhitelist.get(aClass).contains",
  "raw_llm_output": null,
  "parsed_llm_output": null,
  "error": "No response from LLM llama3-8b-groq"
}