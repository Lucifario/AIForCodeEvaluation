{
  "project": "Lang",
  "bug_id": 12,
  "buggy_compiled": true,
  "fixed_compiled": true,
  "buggy_metadata": {
    "classes.modified": [
      "org.apache.commons.lang3.RandomStringUtils"
    ],
    "tests.trigger": [
      "org.apache.commons.lang3.RandomStringUtilsTest::testExceptions",
      "org.apache.commons.lang3.RandomStringUtilsTest::testLANG805"
    ],
    "dir.src.classes": [
      "src/main/java"
    ]
  },
  "fixed_metadata": {
    "classes.modified": [
      "org.apache.commons.lang3.RandomStringUtils"
    ],
    "tests.trigger": [
      "org.apache.commons.lang3.RandomStringUtilsTest::testExceptions",
      "org.apache.commons.lang3.RandomStringUtilsTest::testLANG805"
    ],
    "dir.src.classes": [
      "src/main/java"
    ]
  },
  "diff": "diff --git a/data/defects4j_bugs/Lang_12b/.defects4j.config b/data/defects4j_bugs/Lang_12f/.defects4j.config\nindex 41afc5f..36a64a7 100644\n--- a/data/defects4j_bugs/Lang_12b/.defects4j.config\n+++ b/data/defects4j_bugs/Lang_12f/.defects4j.config\n@@ -1,3 +1,3 @@\n #File automatically generated by Defects4J\n pid=Lang\n-vid=12b\n+vid=12f\ndiff --git a/data/defects4j_bugs/Lang_12b/.git/HEAD b/data/defects4j_bugs/Lang_12f/.git/HEAD\nindex 8c04010..28cab5c 100644\n--- a/data/defects4j_bugs/Lang_12b/.git/HEAD\n+++ b/data/defects4j_bugs/Lang_12f/.git/HEAD\n@@ -1 +1 @@\n-74db66c93599f9f453b380d851fa12a26d95a9a9\n+38bc001f490031d7bd870b8c359e130fc410c904\ndiff --git a/data/defects4j_bugs/Lang_12b/.git/index b/data/defects4j_bugs/Lang_12f/.git/index\nindex 45655a1..d2dcb25 100644\nBinary files a/data/defects4j_bugs/Lang_12b/.git/index and b/data/defects4j_bugs/Lang_12f/.git/index differ\ndiff --git a/data/defects4j_bugs/Lang_12b/.git/logs/HEAD b/data/defects4j_bugs/Lang_12f/.git/logs/HEAD\nindex 29bcebb..54d78fa 100644\n--- a/data/defects4j_bugs/Lang_12b/.git/logs/HEAD\n+++ b/data/defects4j_bugs/Lang_12f/.git/logs/HEAD\n@@ -1,9 +1,9 @@\n-0000000000000000000000000000000000000000 eb4d185c675e12bd72b4e40250883274b18104d1 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425153 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-lang.git\n-eb4d185c675e12bd72b4e40250883274b18104d1 27bcbcc728434ffb2c45e81c0e75e6a3d6da3441 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425153 -0700\tcheckout: moving from master to 27bcbcc728434ffb2c45e81c0e75e6a3d6da3441\n-27bcbcc728434ffb2c45e81c0e75e6a3d6da3441 64cc16ce0fd9ce8a7b5f1389a40836d2ec4064cc defects4j <defects4j@localhost> 1761425153 -0700\tcommit: D4J_Lang_12_POST_FIX_REVISION\n-64cc16ce0fd9ce8a7b5f1389a40836d2ec4064cc 3437f33774121cd29a3180ead188b93fbbdbe859 defects4j <defects4j@localhost> 1761425154 -0700\tcommit: D4J_Lang_12_POST_FIX_COMPILABLE\n-3437f33774121cd29a3180ead188b93fbbdbe859 936baf34d32a77b846e73ee98e7a7495dc522cec defects4j <defects4j@localhost> 1761425157 -0700\tcommit: D4J_Lang_12_FIXED_VERSION\n-936baf34d32a77b846e73ee98e7a7495dc522cec 74db66c93599f9f453b380d851fa12a26d95a9a9 defects4j <defects4j@localhost> 1761425157 -0700\tcommit: D4J_Lang_12_BUGGY_VERSION\n-74db66c93599f9f453b380d851fa12a26d95a9a9 64cc16ce0fd9ce8a7b5f1389a40836d2ec4064cc defects4j <defects4j@localhost> 1761425157 -0700\tcheckout: moving from 74db66c93599f9f453b380d851fa12a26d95a9a9 to D4J_Lang_12_POST_FIX_REVISION\n-64cc16ce0fd9ce8a7b5f1389a40836d2ec4064cc d3dd80d99a5abcdc2042a0e73c7b48fbbc9407f0 defects4j <defects4j@localhost> 1761425157 -0700\tcommit: D4J_Lang_12_PRE_FIX_REVISION\n-d3dd80d99a5abcdc2042a0e73c7b48fbbc9407f0 74db66c93599f9f453b380d851fa12a26d95a9a9 defects4j <defects4j@localhost> 1761425157 -0700\tcheckout: moving from d3dd80d99a5abcdc2042a0e73c7b48fbbc9407f0 to D4J_Lang_12_BUGGY_VERSION\n+0000000000000000000000000000000000000000 eb4d185c675e12bd72b4e40250883274b18104d1 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425157 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-lang.git\n+eb4d185c675e12bd72b4e40250883274b18104d1 27bcbcc728434ffb2c45e81c0e75e6a3d6da3441 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425157 -0700\tcheckout: moving from master to 27bcbcc728434ffb2c45e81c0e75e6a3d6da3441\n+27bcbcc728434ffb2c45e81c0e75e6a3d6da3441 b6e580561ffd0483bcb7ae885b208d73495d02d8 defects4j <defects4j@localhost> 1761425157 -0700\tcommit: D4J_Lang_12_POST_FIX_REVISION\n+b6e580561ffd0483bcb7ae885b208d73495d02d8 71d742122601ce8e2a486bf54b077434e81dee4b defects4j <defects4j@localhost> 1761425157 -0700\tcommit: D4J_Lang_12_POST_FIX_COMPILABLE\n+71d742122601ce8e2a486bf54b077434e81dee4b 38bc001f490031d7bd870b8c359e130fc410c904 defects4j <defects4j@localhost> 1761425161 -0700\tcommit: D4J_Lang_12_FIXED_VERSION\n+38bc001f490031d7bd870b8c359e130fc410c904 f6f318adb2d1bc9d3292a7b62ab5895b14c4ddfc defects4j <defects4j@localhost> 1761425161 -0700\tcommit: D4J_Lang_12_BUGGY_VERSION\n+f6f318adb2d1bc9d3292a7b62ab5895b14c4ddfc b6e580561ffd0483bcb7ae885b208d73495d02d8 defects4j <defects4j@localhost> 1761425161 -0700\tcheckout: moving from f6f318adb2d1bc9d3292a7b62ab5895b14c4ddfc to D4J_Lang_12_POST_FIX_REVISION\n+b6e580561ffd0483bcb7ae885b208d73495d02d8 329ced7538ea2e6d29ff16c116d2b907c4f76842 defects4j <defects4j@localhost> 1761425161 -0700\tcommit: D4J_Lang_12_PRE_FIX_REVISION\n+329ced7538ea2e6d29ff16c116d2b907c4f76842 38bc001f490031d7bd870b8c359e130fc410c904 defects4j <defects4j@localhost> 1761425161 -0700\tcheckout: moving from 329ced7538ea2e6d29ff16c116d2b907c4f76842 to D4J_Lang_12_FIXED_VERSION\ndiff --git a/data/defects4j_bugs/Lang_12b/.git/logs/refs/heads/master b/data/defects4j_bugs/Lang_12f/.git/logs/refs/heads/master\nindex e9be4b1..91688b4 100644\n--- a/data/defects4j_bugs/Lang_12b/.git/logs/refs/heads/master\n+++ b/data/defects4j_bugs/Lang_12f/.git/logs/refs/heads/master\n@@ -1 +1 @@\n-0000000000000000000000000000000000000000 eb4d185c675e12bd72b4e40250883274b18104d1 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425153 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-lang.git\n+0000000000000000000000000000000000000000 eb4d185c675e12bd72b4e40250883274b18104d1 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425157 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-lang.git\ndiff --git a/data/defects4j_bugs/Lang_12b/.git/logs/refs/remotes/origin/HEAD b/data/defects4j_bugs/Lang_12f/.git/logs/refs/remotes/origin/HEAD\nindex e9be4b1..91688b4 100644\n--- a/data/defects4j_bugs/Lang_12b/.git/logs/refs/remotes/origin/HEAD\n+++ b/data/defects4j_bugs/Lang_12f/.git/logs/refs/remotes/origin/HEAD\n@@ -1 +1 @@\n-0000000000000000000000000000000000000000 eb4d185c675e12bd72b4e40250883274b18104d1 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425153 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-lang.git\n+0000000000000000000000000000000000000000 eb4d185c675e12bd72b4e40250883274b18104d1 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425157 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-lang.git\ndiff --git a/data/defects4j_bugs/Lang_12f/.git/objects/32/9ced7538ea2e6d29ff16c116d2b907c4f76842 b/data/defects4j_bugs/Lang_12f/.git/objects/32/9ced7538ea2e6d29ff16c116d2b907c4f76842\nnew file mode 100644\nindex 0000000..5f8b6ec\nBinary files /dev/null and b/data/defects4j_bugs/Lang_12f/.git/objects/32/9ced7538ea2e6d29ff16c116d2b907c4f76842 differ\ndiff --git a/data/defects4j_bugs/Lang_12b/.git/objects/34/37f33774121cd29a3180ead188b93fbbdbe859 b/data/defects4j_bugs/Lang_12b/.git/objects/34/37f33774121cd29a3180ead188b93fbbdbe859\ndeleted file mode 100644\nindex 161a4e6..0000000\n--- a/data/defects4j_bugs/Lang_12b/.git/objects/34/37f33774121cd29a3180ead188b93fbbdbe859\n+++ /dev/null\n@@ -1 +0,0 @@\n-x\u0001j\u00021\u0010@=+\u0003$;dA*([\u0014-L&\u06a2K{\u0007\u000ez\u06a2QD\u0007\u0002\u0017 $\u0488\u0019\u0018n$J\u001dyNx4\u02adj\u01b1@\u001dK b\u0011Bh\\\b?g=\u000fR\u0003\u000f_.\u0003<<\\\u001b\f\u05b4\u0001\u0014\u000eVG=>q;\u001czso\u007f]+\nIM\n\\ No newline at end of file\ndiff --git a/data/defects4j_bugs/Lang_12f/.git/objects/38/bc001f490031d7bd870b8c359e130fc410c904 b/data/defects4j_bugs/Lang_12f/.git/objects/38/bc001f490031d7bd870b8c359e130fc410c904\nnew file mode 100644\nindex 0000000..b6809f0\nBinary files /dev/null and b/data/defects4j_bugs/Lang_12f/.git/objects/38/bc001f490031d7bd870b8c359e130fc410c904 differ\ndiff --git a/data/defects4j_bugs/Lang_12b/.git/objects/64/cc16ce0fd9ce8a7b5f1389a40836d2ec4064cc b/data/defects4j_bugs/Lang_12b/.git/objects/64/cc16ce0fd9ce8a7b5f1389a40836d2ec4064cc\ndeleted file mode 100644\nindex b2ec620..0000000\n--- a/data/defects4j_bugs/Lang_12b/.git/objects/64/cc16ce0fd9ce8a7b5f1389a40836d2ec4064cc\n+++ /dev/null\n@@ -1,2 +0,0 @@\n-x\u0001Aj0\u0010@\u046cu\n-]  F\nt\u0004\\J\\\u0010\u0013hT$v't\u0003d7\u000f>MH@*3L\u001472u)&\u001d\u001d\u001b\u02fa&pUF\u0007t\"\u001a\n\u001crI\\\u0005\u0014\f\u0016Vi3SYGn2Q\fR^vF\u001aVN)A\u007f\nG\u0018\u0006\u0007kOk{l\u06cb;rLe\n\\ No newline at end of file\ndiff --git a/data/defects4j_bugs/Lang_12f/.git/objects/71/d742122601ce8e2a486bf54b077434e81dee4b b/data/defects4j_bugs/Lang_12f/.git/objects/71/d742122601ce8e2a486bf54b077434e81dee4b\nnew file mode 100644\nindex 0000000..3f7dc22\n--- /dev/null\n+++ b/data/defects4j_bugs/Lang_12f/.git/objects/71/d742122601ce8e2a486bf54b077434e81dee4b\n@@ -0,0 +1,3 @@\n+x\u0001I\n+\u00021\u0010@Q9E. T\u0499\u0004\u0011ghiQ\u0405*\u000e-\u000b\u000fo\u001e>\u001e\u00a5\u0011q\u00178@\"D\u0015\u0019D\u0005Y$\u0014C4\n+6Ea\u0473hH;F\u4320\\\u0015SQC[FXxKqL\u01ff\u0014\ue5f6/\u0013.\u0011Jj-\u001f\u0005`;X\u000f\u0296j<{!~w8u}v_7yb\u001fM<\n\\ No newline at end of file\ndiff --git a/data/defects4j_bugs/Lang_12b/.git/objects/74/db66c93599f9f453b380d851fa12a26d95a9a9 b/data/defects4j_bugs/Lang_12b/.git/objects/74/db66c93599f9f453b380d851fa12a26d95a9a9\ndeleted file mode 100644\nindex c739f5c..0000000\n--- a/data/defects4j_bugs/Lang_12b/.git/objects/74/db66c93599f9f453b380d851fa12a26d95a9a9\n+++ /dev/null\n@@ -1,2 +0,0 @@\n-x\u0001K\n-0\u0010@]\u0014\u0324\u0004DD\u0014QDAQpU\u000fj+.<y5NDG\u0013,7Lx)\u0004'PXgBd\u0016Y={\u0011}\n\u001a\u0010 bQ\u0002 IR\u02a7\u04f54]kzjy-y>t\u07d01*}\u0007[K\u001fK\u000bx7\u001dtW\n_yIv\n\\ No newline at end of file\ndiff --git a/data/defects4j_bugs/Lang_12b/.git/objects/93/6baf34d32a77b846e73ee98e7a7495dc522cec b/data/defects4j_bugs/Lang_12b/.git/objects/93/6baf34d32a77b846e73ee98e7a7495dc522cec\ndeleted file mode 100644\nindex 1ccbe72..0000000\nBinary files a/data/defects4j_bugs/Lang_12b/.git/objects/93/6baf34d32a77b846e73ee98e7a7495dc522cec and /dev/null differ\ndiff --git a/data/defects4j_bugs/Lang_12f/.git/objects/b6/e580561ffd0483bcb7ae885b208d73495d02d8 b/data/defects4j_bugs/Lang_12f/.git/objects/b6/e580561ffd0483bcb7ae885b208d73495d02d8\nnew file mode 100644\nindex 0000000..5fbac4b\n--- /dev/null\n+++ b/data/defects4j_bugs/Lang_12f/.git/objects/b6/e580561ffd0483bcb7ae885b208d73495d02d8\n@@ -0,0 +1,2 @@\n+x\u0001Aj0\u0010@\u046eu\n+]  F\u001e\u001bJ\u0222\t$%d'\u0468No\"\u0007o\u001e|R5y@F\u0005SN&\u0012vEP)\u0169\u0017RL\u0422R\u00120zi-\u001b!/Mt!Z\u00150/:K\u00117\u050f\u070c3qou-5\u0016[Oze\u0018\u007fUA\u0013>x\b\u0016\u001ev9\u001c_\u000fLm\n\\ No newline at end of file\ndiff --git a/data/defects4j_bugs/Lang_12b/.git/objects/d3/dd80d99a5abcdc2042a0e73c7b48fbbc9407f0 b/data/defects4j_bugs/Lang_12b/.git/objects/d3/dd80d99a5abcdc2042a0e73c7b48fbbc9407f0\ndeleted file mode 100644\nindex ef04641..0000000\nBinary files a/data/defects4j_bugs/Lang_12b/.git/objects/d3/dd80d99a5abcdc2042a0e73c7b48fbbc9407f0 and /dev/null differ\ndiff --git a/data/defects4j_bugs/Lang_12f/.git/objects/f6/f318adb2d1bc9d3292a7b62ab5895b14c4ddfc b/data/defects4j_bugs/Lang_12f/.git/objects/f6/f318adb2d1bc9d3292a7b62ab5895b14c4ddfc\nnew file mode 100644\nindex 0000000..3407d40\nBinary files /dev/null and b/data/defects4j_bugs/Lang_12f/.git/objects/f6/f318adb2d1bc9d3292a7b62ab5895b14c4ddfc differ\ndiff --git a/data/defects4j_bugs/Lang_12b/.git/refs/tags/D4J_Lang_12_BUGGY_VERSION b/data/defects4j_bugs/Lang_12f/.git/refs/tags/D4J_Lang_12_BUGGY_VERSION\nindex 8c04010..b937f98 100644\n--- a/data/defects4j_bugs/Lang_12b/.git/refs/tags/D4J_Lang_12_BUGGY_VERSION\n+++ b/data/defects4j_bugs/Lang_12f/.git/refs/tags/D4J_Lang_12_BUGGY_VERSION\n@@ -1 +1 @@\n-74db66c93599f9f453b380d851fa12a26d95a9a9\n+f6f318adb2d1bc9d3292a7b62ab5895b14c4ddfc\ndiff --git a/data/defects4j_bugs/Lang_12b/.git/refs/tags/D4J_Lang_12_FIXED_VERSION b/data/defects4j_bugs/Lang_12f/.git/refs/tags/D4J_Lang_12_FIXED_VERSION\nindex d2fa1f3..28cab5c 100644\n--- a/data/defects4j_bugs/Lang_12b/.git/refs/tags/D4J_Lang_12_FIXED_VERSION\n+++ b/data/defects4j_bugs/Lang_12f/.git/refs/tags/D4J_Lang_12_FIXED_VERSION\n@@ -1 +1 @@\n-936baf34d32a77b846e73ee98e7a7495dc522cec\n+38bc001f490031d7bd870b8c359e130fc410c904\ndiff --git a/data/defects4j_bugs/Lang_12b/.git/refs/tags/D4J_Lang_12_POST_FIX_COMPILABLE b/data/defects4j_bugs/Lang_12f/.git/refs/tags/D4J_Lang_12_POST_FIX_COMPILABLE\nindex b4c4843..04f37ed 100644\n--- a/data/defects4j_bugs/Lang_12b/.git/refs/tags/D4J_Lang_12_POST_FIX_COMPILABLE\n+++ b/data/defects4j_bugs/Lang_12f/.git/refs/tags/D4J_Lang_12_POST_FIX_COMPILABLE\n@@ -1 +1 @@\n-3437f33774121cd29a3180ead188b93fbbdbe859\n+71d742122601ce8e2a486bf54b077434e81dee4b\ndiff --git a/data/defects4j_bugs/Lang_12b/.git/refs/tags/D4J_Lang_12_POST_FIX_REVISION b/data/defects4j_bugs/Lang_12f/.git/refs/tags/D4J_Lang_12_POST_FIX_REVISION\nindex 5c545f8..fbfb2f4 100644\n--- a/data/defects4j_bugs/Lang_12b/.git/refs/tags/D4J_Lang_12_POST_FIX_REVISION\n+++ b/data/defects4j_bugs/Lang_12f/.git/refs/tags/D4J_Lang_12_POST_FIX_REVISION\n@@ -1 +1 @@\n-64cc16ce0fd9ce8a7b5f1389a40836d2ec4064cc\n+b6e580561ffd0483bcb7ae885b208d73495d02d8\ndiff --git a/data/defects4j_bugs/Lang_12b/.git/refs/tags/D4J_Lang_12_PRE_FIX_REVISION b/data/defects4j_bugs/Lang_12f/.git/refs/tags/D4J_Lang_12_PRE_FIX_REVISION\nindex 95ecb86..593e6f9 100644\n--- a/data/defects4j_bugs/Lang_12b/.git/refs/tags/D4J_Lang_12_PRE_FIX_REVISION\n+++ b/data/defects4j_bugs/Lang_12f/.git/refs/tags/D4J_Lang_12_PRE_FIX_REVISION\n@@ -1 +1 @@\n-d3dd80d99a5abcdc2042a0e73c7b48fbbc9407f0\n+329ced7538ea2e6d29ff16c116d2b907c4f76842\ndiff --git a/data/defects4j_bugs/Lang_12b/src/main/java/org/apache/commons/lang3/RandomStringUtils.java b/data/defects4j_bugs/Lang_12f/src/main/java/org/apache/commons/lang3/RandomStringUtils.java\nindex b200223..a799057 100644\n--- a/data/defects4j_bugs/Lang_12b/src/main/java/org/apache/commons/lang3/RandomStringUtils.java\n+++ b/data/defects4j_bugs/Lang_12f/src/main/java/org/apache/commons/lang3/RandomStringUtils.java\n@@ -227,14 +227,21 @@ public class RandomStringUtils {\n         } else if (count < 0) {\n             throw new IllegalArgumentException(\"Requested random string length \" + count + \" is less than 0.\");\n         }\n+        if (chars != null && chars.length == 0) {\n+            throw new IllegalArgumentException(\"The chars array must not be empty\");\n+        }\n \n         if (start == 0 && end == 0) {\n+            if (chars != null) {\n+                end = chars.length;\n+            } else {\n                 if (!letters && !numbers) {\n                     end = Integer.MAX_VALUE;\n                 } else {\n                     end = 'z' + 1;\n                     start = ' ';                \n                 }\n+            }\n         }\n \n         char[] buffer = new char[count];\ndiff --git a/data/defects4j_bugs/Lang_12b/target/classes/org/apache/commons/lang3/RandomStringUtils.class b/data/defects4j_bugs/Lang_12f/target/classes/org/apache/commons/lang3/RandomStringUtils.class\nindex 2d93eca..348b84b 100644\nBinary files a/data/defects4j_bugs/Lang_12b/target/classes/org/apache/commons/lang3/RandomStringUtils.class and b/data/defects4j_bugs/Lang_12f/target/classes/org/apache/commons/lang3/RandomStringUtils.class differ\n",
  "source_files_path": "data/defects4j_bugs/Lang_12_source"
}