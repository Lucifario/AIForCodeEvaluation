{
  "project": "Math",
  "bug_id": 7,
  "buggy_compiled": true,
  "fixed_compiled": true,
  "buggy_metadata": {
    "classes.modified": [
      "org.apache.commons.math3.ode.AbstractIntegrator"
    ],
    "tests.trigger": [
      "org.apache.commons.math3.ode.nonstiff.DormandPrince853IntegratorTest::testEventsScheduling"
    ],
    "dir.src.classes": [
      "src/main/java"
    ]
  },
  "fixed_metadata": {
    "classes.modified": [
      "org.apache.commons.math3.ode.AbstractIntegrator"
    ],
    "tests.trigger": [
      "org.apache.commons.math3.ode.nonstiff.DormandPrince853IntegratorTest::testEventsScheduling"
    ],
    "dir.src.classes": [
      "src/main/java"
    ]
  },
  "diff": "diff --git a/data/defects4j_bugs/Math_7b/.defects4j.config b/data/defects4j_bugs/Math_7f/.defects4j.config\nindex db6e709..bdde58e 100644\n--- a/data/defects4j_bugs/Math_7b/.defects4j.config\n+++ b/data/defects4j_bugs/Math_7f/.defects4j.config\n@@ -1,3 +1,3 @@\n #File automatically generated by Defects4J\n pid=Math\n-vid=7b\n+vid=7f\ndiff --git a/data/defects4j_bugs/Math_7b/.git/HEAD b/data/defects4j_bugs/Math_7f/.git/HEAD\nindex fd4d336..e0d0065 100644\n--- a/data/defects4j_bugs/Math_7b/.git/HEAD\n+++ b/data/defects4j_bugs/Math_7f/.git/HEAD\n@@ -1 +1 @@\n-20863f1cc1dbdca7b2ea6f0a61f91a93f5860422\n+3fdf31deac73bca963be537e10460b94c02b13fd\ndiff --git a/data/defects4j_bugs/Math_7b/.git/index b/data/defects4j_bugs/Math_7f/.git/index\nindex 7324383..24f2211 100644\nBinary files a/data/defects4j_bugs/Math_7b/.git/index and b/data/defects4j_bugs/Math_7f/.git/index differ\ndiff --git a/data/defects4j_bugs/Math_7b/.git/logs/HEAD b/data/defects4j_bugs/Math_7f/.git/logs/HEAD\nindex 092cc6c..bb816e1 100644\n--- a/data/defects4j_bugs/Math_7b/.git/logs/HEAD\n+++ b/data/defects4j_bugs/Math_7f/.git/logs/HEAD\n@@ -1,9 +1,9 @@\n-0000000000000000000000000000000000000000 ab9b0b0c2d0913e7f2a894650255564a40b05277 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425440 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-math.git\n-ab9b0b0c2d0913e7f2a894650255564a40b05277 424cbd201ca5969181d68cff99d8b9b77a41cefe Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425441 -0700\tcheckout: moving from master to 424cbd201ca5969181d68cff99d8b9b77a41cefe\n-424cbd201ca5969181d68cff99d8b9b77a41cefe 6bdc57b295b8c97ac1c84aaff06b2a044953a5c8 defects4j <defects4j@localhost> 1761425441 -0700\tcommit: D4J_Math_7_POST_FIX_REVISION\n-6bdc57b295b8c97ac1c84aaff06b2a044953a5c8 0cceb376c62a7574ba0f4a6d23ce4a5c16ed8c2f defects4j <defects4j@localhost> 1761425441 -0700\tcommit: D4J_Math_7_POST_FIX_COMPILABLE\n-0cceb376c62a7574ba0f4a6d23ce4a5c16ed8c2f 1bed9498715e354984c2f2dc0d2d78ab61fb3301 defects4j <defects4j@localhost> 1761425444 -0700\tcommit: D4J_Math_7_FIXED_VERSION\n-1bed9498715e354984c2f2dc0d2d78ab61fb3301 20863f1cc1dbdca7b2ea6f0a61f91a93f5860422 defects4j <defects4j@localhost> 1761425444 -0700\tcommit: D4J_Math_7_BUGGY_VERSION\n-20863f1cc1dbdca7b2ea6f0a61f91a93f5860422 6bdc57b295b8c97ac1c84aaff06b2a044953a5c8 defects4j <defects4j@localhost> 1761425444 -0700\tcheckout: moving from 20863f1cc1dbdca7b2ea6f0a61f91a93f5860422 to D4J_Math_7_POST_FIX_REVISION\n-6bdc57b295b8c97ac1c84aaff06b2a044953a5c8 c12b6878d228cf2914e887611c42ee8e530890ab defects4j <defects4j@localhost> 1761425444 -0700\tcommit: D4J_Math_7_PRE_FIX_REVISION\n-c12b6878d228cf2914e887611c42ee8e530890ab 20863f1cc1dbdca7b2ea6f0a61f91a93f5860422 defects4j <defects4j@localhost> 1761425444 -0700\tcheckout: moving from c12b6878d228cf2914e887611c42ee8e530890ab to D4J_Math_7_BUGGY_VERSION\n+0000000000000000000000000000000000000000 ab9b0b0c2d0913e7f2a894650255564a40b05277 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425444 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-math.git\n+ab9b0b0c2d0913e7f2a894650255564a40b05277 424cbd201ca5969181d68cff99d8b9b77a41cefe Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425445 -0700\tcheckout: moving from master to 424cbd201ca5969181d68cff99d8b9b77a41cefe\n+424cbd201ca5969181d68cff99d8b9b77a41cefe db3696d8370f95eac0ff0beea339b23fc4d5e324 defects4j <defects4j@localhost> 1761425445 -0700\tcommit: D4J_Math_7_POST_FIX_REVISION\n+db3696d8370f95eac0ff0beea339b23fc4d5e324 d33a006a90f4a9ad15962b10e06b02e66ab4192b defects4j <defects4j@localhost> 1761425445 -0700\tcommit: D4J_Math_7_POST_FIX_COMPILABLE\n+d33a006a90f4a9ad15962b10e06b02e66ab4192b 3fdf31deac73bca963be537e10460b94c02b13fd defects4j <defects4j@localhost> 1761425448 -0700\tcommit: D4J_Math_7_FIXED_VERSION\n+3fdf31deac73bca963be537e10460b94c02b13fd 1aa823201e1334833a04416d28181d0ed4c908a3 defects4j <defects4j@localhost> 1761425448 -0700\tcommit: D4J_Math_7_BUGGY_VERSION\n+1aa823201e1334833a04416d28181d0ed4c908a3 db3696d8370f95eac0ff0beea339b23fc4d5e324 defects4j <defects4j@localhost> 1761425448 -0700\tcheckout: moving from 1aa823201e1334833a04416d28181d0ed4c908a3 to D4J_Math_7_POST_FIX_REVISION\n+db3696d8370f95eac0ff0beea339b23fc4d5e324 cd96eb9ef3ac133ac69a6d9af0bfe7c461f022df defects4j <defects4j@localhost> 1761425448 -0700\tcommit: D4J_Math_7_PRE_FIX_REVISION\n+cd96eb9ef3ac133ac69a6d9af0bfe7c461f022df 3fdf31deac73bca963be537e10460b94c02b13fd defects4j <defects4j@localhost> 1761425448 -0700\tcheckout: moving from cd96eb9ef3ac133ac69a6d9af0bfe7c461f022df to D4J_Math_7_FIXED_VERSION\ndiff --git a/data/defects4j_bugs/Math_7b/.git/logs/refs/heads/master b/data/defects4j_bugs/Math_7f/.git/logs/refs/heads/master\nindex 042cf5c..918aa09 100644\n--- a/data/defects4j_bugs/Math_7b/.git/logs/refs/heads/master\n+++ b/data/defects4j_bugs/Math_7f/.git/logs/refs/heads/master\n@@ -1 +1 @@\n-0000000000000000000000000000000000000000 ab9b0b0c2d0913e7f2a894650255564a40b05277 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425440 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-math.git\n+0000000000000000000000000000000000000000 ab9b0b0c2d0913e7f2a894650255564a40b05277 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425444 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-math.git\ndiff --git a/data/defects4j_bugs/Math_7b/.git/logs/refs/remotes/origin/HEAD b/data/defects4j_bugs/Math_7f/.git/logs/refs/remotes/origin/HEAD\nindex 042cf5c..918aa09 100644\n--- a/data/defects4j_bugs/Math_7b/.git/logs/refs/remotes/origin/HEAD\n+++ b/data/defects4j_bugs/Math_7f/.git/logs/refs/remotes/origin/HEAD\n@@ -1 +1 @@\n-0000000000000000000000000000000000000000 ab9b0b0c2d0913e7f2a894650255564a40b05277 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425440 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-math.git\n+0000000000000000000000000000000000000000 ab9b0b0c2d0913e7f2a894650255564a40b05277 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425444 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-math.git\ndiff --git a/data/defects4j_bugs/Math_7b/.git/objects/0c/ceb376c62a7574ba0f4a6d23ce4a5c16ed8c2f b/data/defects4j_bugs/Math_7b/.git/objects/0c/ceb376c62a7574ba0f4a6d23ce4a5c16ed8c2f\ndeleted file mode 100644\nindex b0f2afa..0000000\n--- a/data/defects4j_bugs/Math_7b/.git/objects/0c/ceb376c62a7574ba0f4a6d23ce4a5c16ed8c2f\n+++ /dev/null\n@@ -1 +0,0 @@\n-x\u0001\u02ca\u00021\u0010E]+\u0003\u0003Ut@\u0001\u0645V\u05166\u001fpt\u04fehC8(}J\u001a9\u000f!#H\u001ed\u0012\u001aDDh\\p\u0018V\u0017\u04f9hW7b}m+\t\u0005\"\u0546(![\u0014JI9IA\t\u001fZ5zd5\u0005\u001e@`I\u001fjBF\u001f7.q^m\u07ffT\u0001J\n\\ No newline at end of file\ndiff --git a/data/defects4j_bugs/Math_7f/.git/objects/1a/a823201e1334833a04416d28181d0ed4c908a3 b/data/defects4j_bugs/Math_7f/.git/objects/1a/a823201e1334833a04416d28181d0ed4c908a3\nnew file mode 100644\nindex 0000000..7a43dad\nBinary files /dev/null and b/data/defects4j_bugs/Math_7f/.git/objects/1a/a823201e1334833a04416d28181d0ed4c908a3 differ\ndiff --git a/data/defects4j_bugs/Math_7b/.git/objects/1b/ed9498715e354984c2f2dc0d2d78ab61fb3301 b/data/defects4j_bugs/Math_7b/.git/objects/1b/ed9498715e354984c2f2dc0d2d78ab61fb3301\ndeleted file mode 100644\nindex f8120b1..0000000\nBinary files a/data/defects4j_bugs/Math_7b/.git/objects/1b/ed9498715e354984c2f2dc0d2d78ab61fb3301 and /dev/null differ\ndiff --git a/data/defects4j_bugs/Math_7b/.git/objects/20/863f1cc1dbdca7b2ea6f0a61f91a93f5860422 b/data/defects4j_bugs/Math_7b/.git/objects/20/863f1cc1dbdca7b2ea6f0a61f91a93f5860422\ndeleted file mode 100644\nindex 4c33346..0000000\nBinary files a/data/defects4j_bugs/Math_7b/.git/objects/20/863f1cc1dbdca7b2ea6f0a61f91a93f5860422 and /dev/null differ\ndiff --git a/data/defects4j_bugs/Math_7f/.git/objects/3f/df31deac73bca963be537e10460b94c02b13fd b/data/defects4j_bugs/Math_7f/.git/objects/3f/df31deac73bca963be537e10460b94c02b13fd\nnew file mode 100644\nindex 0000000..6ef97ef\nBinary files /dev/null and b/data/defects4j_bugs/Math_7f/.git/objects/3f/df31deac73bca963be537e10460b94c02b13fd differ\ndiff --git a/data/defects4j_bugs/Math_7b/.git/objects/6b/dc57b295b8c97ac1c84aaff06b2a044953a5c8 b/data/defects4j_bugs/Math_7b/.git/objects/6b/dc57b295b8c97ac1c84aaff06b2a044953a5c8\ndeleted file mode 100644\nindex d659ef7..0000000\nBinary files a/data/defects4j_bugs/Math_7b/.git/objects/6b/dc57b295b8c97ac1c84aaff06b2a044953a5c8 and /dev/null differ\ndiff --git a/data/defects4j_bugs/Math_7b/.git/objects/c1/2b6878d228cf2914e887611c42ee8e530890ab b/data/defects4j_bugs/Math_7b/.git/objects/c1/2b6878d228cf2914e887611c42ee8e530890ab\ndeleted file mode 100644\nindex 57aeaa1..0000000\nBinary files a/data/defects4j_bugs/Math_7b/.git/objects/c1/2b6878d228cf2914e887611c42ee8e530890ab and /dev/null differ\ndiff --git a/data/defects4j_bugs/Math_7f/.git/objects/cd/96eb9ef3ac133ac69a6d9af0bfe7c461f022df b/data/defects4j_bugs/Math_7f/.git/objects/cd/96eb9ef3ac133ac69a6d9af0bfe7c461f022df\nnew file mode 100644\nindex 0000000..c9655a7\nBinary files /dev/null and b/data/defects4j_bugs/Math_7f/.git/objects/cd/96eb9ef3ac133ac69a6d9af0bfe7c461f022df differ\ndiff --git a/data/defects4j_bugs/Math_7f/.git/objects/d3/3a006a90f4a9ad15962b10e06b02e66ab4192b b/data/defects4j_bugs/Math_7f/.git/objects/d3/3a006a90f4a9ad15962b10e06b02e66ab4192b\nnew file mode 100644\nindex 0000000..0a59b8a\n--- /dev/null\n+++ b/data/defects4j_bugs/Math_7f/.git/objects/d3/3a006a90f4a9ad15962b10e06b02e66ab4192b\n@@ -0,0 +1 @@\n+x\u0001JC1\u0010])\u0002d4 \u0007*--];p+\u0001\u001d;2:\u00ab>Z!c$\u0404Q\u001a\u0004\u0015\u0003\u0011\u0006XPq-\u0017m\u001d\u0535OrP\u0016h\n\u0006U>\u000f7\u001a;2iUJ\u0407I4N~c1E$\u0602]A\u00020{?\u605e\u02deXR9\u001e^^\u001fn{4?lK&\n\\ No newline at end of file\ndiff --git a/data/defects4j_bugs/Math_7f/.git/objects/db/3696d8370f95eac0ff0beea339b23fc4d5e324 b/data/defects4j_bugs/Math_7f/.git/objects/db/3696d8370f95eac0ff0beea339b23fc4d5e324\nnew file mode 100644\nindex 0000000..e7a8e20\nBinary files /dev/null and b/data/defects4j_bugs/Math_7f/.git/objects/db/3696d8370f95eac0ff0beea339b23fc4d5e324 differ\ndiff --git a/data/defects4j_bugs/Math_7b/.git/refs/tags/D4J_Math_7_BUGGY_VERSION b/data/defects4j_bugs/Math_7f/.git/refs/tags/D4J_Math_7_BUGGY_VERSION\nindex fd4d336..53a4c2c 100644\n--- a/data/defects4j_bugs/Math_7b/.git/refs/tags/D4J_Math_7_BUGGY_VERSION\n+++ b/data/defects4j_bugs/Math_7f/.git/refs/tags/D4J_Math_7_BUGGY_VERSION\n@@ -1 +1 @@\n-20863f1cc1dbdca7b2ea6f0a61f91a93f5860422\n+1aa823201e1334833a04416d28181d0ed4c908a3\ndiff --git a/data/defects4j_bugs/Math_7b/.git/refs/tags/D4J_Math_7_FIXED_VERSION b/data/defects4j_bugs/Math_7f/.git/refs/tags/D4J_Math_7_FIXED_VERSION\nindex ecc85c0..e0d0065 100644\n--- a/data/defects4j_bugs/Math_7b/.git/refs/tags/D4J_Math_7_FIXED_VERSION\n+++ b/data/defects4j_bugs/Math_7f/.git/refs/tags/D4J_Math_7_FIXED_VERSION\n@@ -1 +1 @@\n-1bed9498715e354984c2f2dc0d2d78ab61fb3301\n+3fdf31deac73bca963be537e10460b94c02b13fd\ndiff --git a/data/defects4j_bugs/Math_7b/.git/refs/tags/D4J_Math_7_POST_FIX_COMPILABLE b/data/defects4j_bugs/Math_7f/.git/refs/tags/D4J_Math_7_POST_FIX_COMPILABLE\nindex 11c2b2d..d21dc17 100644\n--- a/data/defects4j_bugs/Math_7b/.git/refs/tags/D4J_Math_7_POST_FIX_COMPILABLE\n+++ b/data/defects4j_bugs/Math_7f/.git/refs/tags/D4J_Math_7_POST_FIX_COMPILABLE\n@@ -1 +1 @@\n-0cceb376c62a7574ba0f4a6d23ce4a5c16ed8c2f\n+d33a006a90f4a9ad15962b10e06b02e66ab4192b\ndiff --git a/data/defects4j_bugs/Math_7b/.git/refs/tags/D4J_Math_7_POST_FIX_REVISION b/data/defects4j_bugs/Math_7f/.git/refs/tags/D4J_Math_7_POST_FIX_REVISION\nindex c1a79bb..64b9480 100644\n--- a/data/defects4j_bugs/Math_7b/.git/refs/tags/D4J_Math_7_POST_FIX_REVISION\n+++ b/data/defects4j_bugs/Math_7f/.git/refs/tags/D4J_Math_7_POST_FIX_REVISION\n@@ -1 +1 @@\n-6bdc57b295b8c97ac1c84aaff06b2a044953a5c8\n+db3696d8370f95eac0ff0beea339b23fc4d5e324\ndiff --git a/data/defects4j_bugs/Math_7b/.git/refs/tags/D4J_Math_7_PRE_FIX_REVISION b/data/defects4j_bugs/Math_7f/.git/refs/tags/D4J_Math_7_PRE_FIX_REVISION\nindex a088baf..34eca5b 100644\n--- a/data/defects4j_bugs/Math_7b/.git/refs/tags/D4J_Math_7_PRE_FIX_REVISION\n+++ b/data/defects4j_bugs/Math_7f/.git/refs/tags/D4J_Math_7_PRE_FIX_REVISION\n@@ -1 +1 @@\n-c12b6878d228cf2914e887611c42ee8e530890ab\n+cd96eb9ef3ac133ac69a6d9af0bfe7c461f022df\ndiff --git a/data/defects4j_bugs/Math_7b/src/main/java/org/apache/commons/math3/ode/AbstractIntegrator.java b/data/defects4j_bugs/Math_7f/src/main/java/org/apache/commons/math3/ode/AbstractIntegrator.java\nindex f24f87c..6e0237f 100644\n--- a/data/defects4j_bugs/Math_7b/src/main/java/org/apache/commons/math3/ode/AbstractIntegrator.java\n+++ b/data/defects4j_bugs/Math_7f/src/main/java/org/apache/commons/math3/ode/AbstractIntegrator.java\n@@ -343,8 +343,10 @@ public abstract class AbstractIntegrator implements FirstOrderIntegrator {\n                 final double[] eventY = interpolator.getInterpolatedState().clone();\n \n                 // advance all event states to current time\n-                currentEvent.stepAccepted(eventT, eventY);\n-                isLastStep = currentEvent.stop();\n+                for (final EventState state : eventsStates) {\n+                    state.stepAccepted(eventT, eventY);\n+                    isLastStep = isLastStep || state.stop();\n+                }\n \n                 // handle the first part of the step, up to the event\n                 for (final StepHandler handler : stepHandlers) {\n@@ -354,22 +356,19 @@ public abstract class AbstractIntegrator implements FirstOrderIntegrator {\n                 if (isLastStep) {\n                     // the event asked to stop integration\n                     System.arraycopy(eventY, 0, y, 0, y.length);\n-                    for (final EventState remaining : occuringEvents) {\n-                        remaining.stepAccepted(eventT, eventY);\n-                    }\n                     return eventT;\n                 }\n \n-                boolean needReset = currentEvent.reset(eventT, eventY);\n+                boolean needReset = false;\n+                for (final EventState state : eventsStates) {\n+                    needReset =  needReset || state.reset(eventT, eventY);\n+                }\n                 if (needReset) {\n                     // some event handler has triggered changes that\n                     // invalidate the derivatives, we need to recompute them\n                     System.arraycopy(eventY, 0, y, 0, y.length);\n                     computeDerivatives(eventT, y, yDot);\n                     resetOccurred = true;\n-                    for (final EventState remaining : occuringEvents) {\n-                        remaining.stepAccepted(eventT, eventY);\n-                    }\n                     return eventT;\n                 }\n \ndiff --git a/data/defects4j_bugs/Math_7b/target/classes/org/apache/commons/math3/ode/AbstractIntegrator.class b/data/defects4j_bugs/Math_7f/target/classes/org/apache/commons/math3/ode/AbstractIntegrator.class\nindex 40043a2..d6cfb67 100644\nBinary files a/data/defects4j_bugs/Math_7b/target/classes/org/apache/commons/math3/ode/AbstractIntegrator.class and b/data/defects4j_bugs/Math_7f/target/classes/org/apache/commons/math3/ode/AbstractIntegrator.class differ\n",
  "source_files_path": "data/defects4j_bugs/Math_7_source"
}