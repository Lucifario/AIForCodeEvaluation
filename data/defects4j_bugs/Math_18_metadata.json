{
  "project": "Math",
  "bug_id": 18,
  "buggy_compiled": true,
  "fixed_compiled": true,
  "buggy_metadata": {
    "classes.modified": [
      "org.apache.commons.math3.optimization.direct.CMAESOptimizer"
    ],
    "tests.trigger": [
      "org.apache.commons.math3.optimization.direct.CMAESOptimizerTest::testFitAccuracyDependsOnBoundary"
    ],
    "dir.src.classes": [
      "src/main/java"
    ]
  },
  "fixed_metadata": {
    "classes.modified": [
      "org.apache.commons.math3.optimization.direct.CMAESOptimizer"
    ],
    "tests.trigger": [
      "org.apache.commons.math3.optimization.direct.CMAESOptimizerTest::testFitAccuracyDependsOnBoundary"
    ],
    "dir.src.classes": [
      "src/main/java"
    ]
  },
  "diff": "diff --git a/data/defects4j_bugs/Math_18b/.defects4j.config b/data/defects4j_bugs/Math_18f/.defects4j.config\nindex b739bfd..db36fa0 100644\n--- a/data/defects4j_bugs/Math_18b/.defects4j.config\n+++ b/data/defects4j_bugs/Math_18f/.defects4j.config\n@@ -1,3 +1,3 @@\n #File automatically generated by Defects4J\n pid=Math\n-vid=18b\n+vid=18f\ndiff --git a/data/defects4j_bugs/Math_18b/.git/HEAD b/data/defects4j_bugs/Math_18f/.git/HEAD\nindex cf37614..c5621f7 100644\n--- a/data/defects4j_bugs/Math_18b/.git/HEAD\n+++ b/data/defects4j_bugs/Math_18f/.git/HEAD\n@@ -1 +1 @@\n-2b651d61e00363c410175afa02baff04e1777b4e\n+855ce1fb89ee8ff1ed97c31325aee7fc81dabbdb\ndiff --git a/data/defects4j_bugs/Math_18b/.git/index b/data/defects4j_bugs/Math_18f/.git/index\nindex 2e380ec..a08d7f2 100644\nBinary files a/data/defects4j_bugs/Math_18b/.git/index and b/data/defects4j_bugs/Math_18f/.git/index differ\ndiff --git a/data/defects4j_bugs/Math_18b/.git/logs/HEAD b/data/defects4j_bugs/Math_18f/.git/logs/HEAD\nindex 72419bc..1df18df 100644\n--- a/data/defects4j_bugs/Math_18b/.git/logs/HEAD\n+++ b/data/defects4j_bugs/Math_18f/.git/logs/HEAD\n@@ -1,9 +1,9 @@\n-0000000000000000000000000000000000000000 ab9b0b0c2d0913e7f2a894650255564a40b05277 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425672 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-math.git\n-ab9b0b0c2d0913e7f2a894650255564a40b05277 329cf9e8e643160e4da6fd8622aa5a3b3905fb69 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425673 -0700\tcheckout: moving from master to 329cf9e8e643160e4da6fd8622aa5a3b3905fb69\n-329cf9e8e643160e4da6fd8622aa5a3b3905fb69 e6e678f0da524e97a11f03e45d20fcdd8ace24cb defects4j <defects4j@localhost> 1761425673 -0700\tcommit: D4J_Math_18_POST_FIX_REVISION\n-e6e678f0da524e97a11f03e45d20fcdd8ace24cb fe4aa47c6cf4b7af331c42023e7a999b3582a1cf defects4j <defects4j@localhost> 1761425673 -0700\tcommit: D4J_Math_18_POST_FIX_COMPILABLE\n-fe4aa47c6cf4b7af331c42023e7a999b3582a1cf 79f28f93cd7d199f305300d53ccec93375e0b0f3 defects4j <defects4j@localhost> 1761425676 -0700\tcommit: D4J_Math_18_FIXED_VERSION\n-79f28f93cd7d199f305300d53ccec93375e0b0f3 2b651d61e00363c410175afa02baff04e1777b4e defects4j <defects4j@localhost> 1761425676 -0700\tcommit: D4J_Math_18_BUGGY_VERSION\n-2b651d61e00363c410175afa02baff04e1777b4e e6e678f0da524e97a11f03e45d20fcdd8ace24cb defects4j <defects4j@localhost> 1761425676 -0700\tcheckout: moving from 2b651d61e00363c410175afa02baff04e1777b4e to D4J_Math_18_POST_FIX_REVISION\n-e6e678f0da524e97a11f03e45d20fcdd8ace24cb 81591b85964e56fe3c1887a039318d180f98240c defects4j <defects4j@localhost> 1761425676 -0700\tcommit: D4J_Math_18_PRE_FIX_REVISION\n-81591b85964e56fe3c1887a039318d180f98240c 2b651d61e00363c410175afa02baff04e1777b4e defects4j <defects4j@localhost> 1761425676 -0700\tcheckout: moving from 81591b85964e56fe3c1887a039318d180f98240c to D4J_Math_18_BUGGY_VERSION\n+0000000000000000000000000000000000000000 ab9b0b0c2d0913e7f2a894650255564a40b05277 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425676 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-math.git\n+ab9b0b0c2d0913e7f2a894650255564a40b05277 329cf9e8e643160e4da6fd8622aa5a3b3905fb69 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425677 -0700\tcheckout: moving from master to 329cf9e8e643160e4da6fd8622aa5a3b3905fb69\n+329cf9e8e643160e4da6fd8622aa5a3b3905fb69 4ce9b85c910f24583b6e516a47b74b1eec215c5e defects4j <defects4j@localhost> 1761425677 -0700\tcommit: D4J_Math_18_POST_FIX_REVISION\n+4ce9b85c910f24583b6e516a47b74b1eec215c5e 2bb1f50e64cb53bc1f3ed835c9e9670e137df51d defects4j <defects4j@localhost> 1761425677 -0700\tcommit: D4J_Math_18_POST_FIX_COMPILABLE\n+2bb1f50e64cb53bc1f3ed835c9e9670e137df51d 855ce1fb89ee8ff1ed97c31325aee7fc81dabbdb defects4j <defects4j@localhost> 1761425680 -0700\tcommit: D4J_Math_18_FIXED_VERSION\n+855ce1fb89ee8ff1ed97c31325aee7fc81dabbdb ea5ffaf6d5695d3b7425caf334dd4eeae0867e18 defects4j <defects4j@localhost> 1761425680 -0700\tcommit: D4J_Math_18_BUGGY_VERSION\n+ea5ffaf6d5695d3b7425caf334dd4eeae0867e18 4ce9b85c910f24583b6e516a47b74b1eec215c5e defects4j <defects4j@localhost> 1761425680 -0700\tcheckout: moving from ea5ffaf6d5695d3b7425caf334dd4eeae0867e18 to D4J_Math_18_POST_FIX_REVISION\n+4ce9b85c910f24583b6e516a47b74b1eec215c5e edb441a6911f54bac515fba3c234ef9c96f087d3 defects4j <defects4j@localhost> 1761425680 -0700\tcommit: D4J_Math_18_PRE_FIX_REVISION\n+edb441a6911f54bac515fba3c234ef9c96f087d3 855ce1fb89ee8ff1ed97c31325aee7fc81dabbdb defects4j <defects4j@localhost> 1761425681 -0700\tcheckout: moving from edb441a6911f54bac515fba3c234ef9c96f087d3 to D4J_Math_18_FIXED_VERSION\ndiff --git a/data/defects4j_bugs/Math_18b/.git/logs/refs/heads/master b/data/defects4j_bugs/Math_18f/.git/logs/refs/heads/master\nindex 5623787..0bb2212 100644\n--- a/data/defects4j_bugs/Math_18b/.git/logs/refs/heads/master\n+++ b/data/defects4j_bugs/Math_18f/.git/logs/refs/heads/master\n@@ -1 +1 @@\n-0000000000000000000000000000000000000000 ab9b0b0c2d0913e7f2a894650255564a40b05277 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425672 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-math.git\n+0000000000000000000000000000000000000000 ab9b0b0c2d0913e7f2a894650255564a40b05277 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425676 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-math.git\ndiff --git a/data/defects4j_bugs/Math_18b/.git/logs/refs/remotes/origin/HEAD b/data/defects4j_bugs/Math_18f/.git/logs/refs/remotes/origin/HEAD\nindex 5623787..0bb2212 100644\n--- a/data/defects4j_bugs/Math_18b/.git/logs/refs/remotes/origin/HEAD\n+++ b/data/defects4j_bugs/Math_18f/.git/logs/refs/remotes/origin/HEAD\n@@ -1 +1 @@\n-0000000000000000000000000000000000000000 ab9b0b0c2d0913e7f2a894650255564a40b05277 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425672 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-math.git\n+0000000000000000000000000000000000000000 ab9b0b0c2d0913e7f2a894650255564a40b05277 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425676 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-math.git\ndiff --git a/data/defects4j_bugs/Math_18b/.git/objects/2b/651d61e00363c410175afa02baff04e1777b4e b/data/defects4j_bugs/Math_18b/.git/objects/2b/651d61e00363c410175afa02baff04e1777b4e\ndeleted file mode 100644\nindex c7f5039..0000000\nBinary files a/data/defects4j_bugs/Math_18b/.git/objects/2b/651d61e00363c410175afa02baff04e1777b4e and /dev/null differ\ndiff --git a/data/defects4j_bugs/Math_18f/.git/objects/2b/b1f50e64cb53bc1f3ed835c9e9670e137df51d b/data/defects4j_bugs/Math_18f/.git/objects/2b/b1f50e64cb53bc1f3ed835c9e9670e137df51d\nnew file mode 100644\nindex 0000000..7d0bc7e\nBinary files /dev/null and b/data/defects4j_bugs/Math_18f/.git/objects/2b/b1f50e64cb53bc1f3ed835c9e9670e137df51d differ\ndiff --git a/data/defects4j_bugs/Math_18b/.git/objects/e6/e678f0da524e97a11f03e45d20fcdd8ace24cb b/data/defects4j_bugs/Math_18f/.git/objects/4c/e9b85c910f24583b6e516a47b74b1eec215c5e\nsimilarity index 61%\nrename from data/defects4j_bugs/Math_18b/.git/objects/e6/e678f0da524e97a11f03e45d20fcdd8ace24cb\nrename to data/defects4j_bugs/Math_18f/.git/objects/4c/e9b85c910f24583b6e516a47b74b1eec215c5e\nindex 7d33aca..71bcae8 100644\nBinary files a/data/defects4j_bugs/Math_18b/.git/objects/e6/e678f0da524e97a11f03e45d20fcdd8ace24cb and b/data/defects4j_bugs/Math_18f/.git/objects/4c/e9b85c910f24583b6e516a47b74b1eec215c5e differ\ndiff --git a/data/defects4j_bugs/Math_18b/.git/objects/79/f28f93cd7d199f305300d53ccec93375e0b0f3 b/data/defects4j_bugs/Math_18b/.git/objects/79/f28f93cd7d199f305300d53ccec93375e0b0f3\ndeleted file mode 100644\nindex 2177263..0000000\nBinary files a/data/defects4j_bugs/Math_18b/.git/objects/79/f28f93cd7d199f305300d53ccec93375e0b0f3 and /dev/null differ\ndiff --git a/data/defects4j_bugs/Math_18b/.git/objects/81/591b85964e56fe3c1887a039318d180f98240c b/data/defects4j_bugs/Math_18b/.git/objects/81/591b85964e56fe3c1887a039318d180f98240c\ndeleted file mode 100644\nindex 7f692f0..0000000\nBinary files a/data/defects4j_bugs/Math_18b/.git/objects/81/591b85964e56fe3c1887a039318d180f98240c and /dev/null differ\ndiff --git a/data/defects4j_bugs/Math_18f/.git/objects/85/5ce1fb89ee8ff1ed97c31325aee7fc81dabbdb b/data/defects4j_bugs/Math_18f/.git/objects/85/5ce1fb89ee8ff1ed97c31325aee7fc81dabbdb\nnew file mode 100644\nindex 0000000..b4205b4\n--- /dev/null\n+++ b/data/defects4j_bugs/Math_18f/.git/objects/85/5ce1fb89ee8ff1ed97c31325aee7fc81dabbdb\n@@ -0,0 +1,3 @@\n+x\u0001j\u00021\u0014E]+\u0003$/yI@\u0105S`\n+nH^^\u0018)c\u000e..st]463K4F\u0011H&X G\u0010Z\u0214\u0013h\u0011M3,a\u03ba:\u000b\u000e2\n+\\\u0002E\u0015k:]Dzae[_s;Na\u001e5\u000eo+%y?R\u001f!\u05e1\u007f_]\u007fN\u0003aI\n\\ No newline at end of file\ndiff --git a/data/defects4j_bugs/Math_18f/.git/objects/ea/5ffaf6d5695d3b7425caf334dd4eeae0867e18 b/data/defects4j_bugs/Math_18f/.git/objects/ea/5ffaf6d5695d3b7425caf334dd4eeae0867e18\nnew file mode 100644\nindex 0000000..d79ec00\nBinary files /dev/null and b/data/defects4j_bugs/Math_18f/.git/objects/ea/5ffaf6d5695d3b7425caf334dd4eeae0867e18 differ\ndiff --git a/data/defects4j_bugs/Math_18f/.git/objects/ed/b441a6911f54bac515fba3c234ef9c96f087d3 b/data/defects4j_bugs/Math_18f/.git/objects/ed/b441a6911f54bac515fba3c234ef9c96f087d3\nnew file mode 100644\nindex 0000000..3afb98d\nBinary files /dev/null and b/data/defects4j_bugs/Math_18f/.git/objects/ed/b441a6911f54bac515fba3c234ef9c96f087d3 differ\ndiff --git a/data/defects4j_bugs/Math_18b/.git/objects/fe/4aa47c6cf4b7af331c42023e7a999b3582a1cf b/data/defects4j_bugs/Math_18b/.git/objects/fe/4aa47c6cf4b7af331c42023e7a999b3582a1cf\ndeleted file mode 100644\nindex e06ede0..0000000\nBinary files a/data/defects4j_bugs/Math_18b/.git/objects/fe/4aa47c6cf4b7af331c42023e7a999b3582a1cf and /dev/null differ\ndiff --git a/data/defects4j_bugs/Math_18b/.git/refs/tags/D4J_Math_18_BUGGY_VERSION b/data/defects4j_bugs/Math_18f/.git/refs/tags/D4J_Math_18_BUGGY_VERSION\nindex cf37614..a0fbcd3 100644\n--- a/data/defects4j_bugs/Math_18b/.git/refs/tags/D4J_Math_18_BUGGY_VERSION\n+++ b/data/defects4j_bugs/Math_18f/.git/refs/tags/D4J_Math_18_BUGGY_VERSION\n@@ -1 +1 @@\n-2b651d61e00363c410175afa02baff04e1777b4e\n+ea5ffaf6d5695d3b7425caf334dd4eeae0867e18\ndiff --git a/data/defects4j_bugs/Math_18b/.git/refs/tags/D4J_Math_18_FIXED_VERSION b/data/defects4j_bugs/Math_18f/.git/refs/tags/D4J_Math_18_FIXED_VERSION\nindex 013ead0..c5621f7 100644\n--- a/data/defects4j_bugs/Math_18b/.git/refs/tags/D4J_Math_18_FIXED_VERSION\n+++ b/data/defects4j_bugs/Math_18f/.git/refs/tags/D4J_Math_18_FIXED_VERSION\n@@ -1 +1 @@\n-79f28f93cd7d199f305300d53ccec93375e0b0f3\n+855ce1fb89ee8ff1ed97c31325aee7fc81dabbdb\ndiff --git a/data/defects4j_bugs/Math_18b/.git/refs/tags/D4J_Math_18_POST_FIX_COMPILABLE b/data/defects4j_bugs/Math_18f/.git/refs/tags/D4J_Math_18_POST_FIX_COMPILABLE\nindex c189d7d..1f5349c 100644\n--- a/data/defects4j_bugs/Math_18b/.git/refs/tags/D4J_Math_18_POST_FIX_COMPILABLE\n+++ b/data/defects4j_bugs/Math_18f/.git/refs/tags/D4J_Math_18_POST_FIX_COMPILABLE\n@@ -1 +1 @@\n-fe4aa47c6cf4b7af331c42023e7a999b3582a1cf\n+2bb1f50e64cb53bc1f3ed835c9e9670e137df51d\ndiff --git a/data/defects4j_bugs/Math_18b/.git/refs/tags/D4J_Math_18_POST_FIX_REVISION b/data/defects4j_bugs/Math_18f/.git/refs/tags/D4J_Math_18_POST_FIX_REVISION\nindex 2853ff7..740a025 100644\n--- a/data/defects4j_bugs/Math_18b/.git/refs/tags/D4J_Math_18_POST_FIX_REVISION\n+++ b/data/defects4j_bugs/Math_18f/.git/refs/tags/D4J_Math_18_POST_FIX_REVISION\n@@ -1 +1 @@\n-e6e678f0da524e97a11f03e45d20fcdd8ace24cb\n+4ce9b85c910f24583b6e516a47b74b1eec215c5e\ndiff --git a/data/defects4j_bugs/Math_18b/.git/refs/tags/D4J_Math_18_PRE_FIX_REVISION b/data/defects4j_bugs/Math_18f/.git/refs/tags/D4J_Math_18_PRE_FIX_REVISION\nindex 79140a7..97a06b2 100644\n--- a/data/defects4j_bugs/Math_18b/.git/refs/tags/D4J_Math_18_PRE_FIX_REVISION\n+++ b/data/defects4j_bugs/Math_18f/.git/refs/tags/D4J_Math_18_PRE_FIX_REVISION\n@@ -1 +1 @@\n-81591b85964e56fe3c1887a039318d180f98240c\n+edb441a6911f54bac515fba3c234ef9c96f087d3\ndiff --git a/data/defects4j_bugs/Math_18b/src/main/java/org/apache/commons/math3/optimization/direct/CMAESOptimizer.java b/data/defects4j_bugs/Math_18f/src/main/java/org/apache/commons/math3/optimization/direct/CMAESOptimizer.java\nindex bc754a5..866c8fd 100644\n--- a/data/defects4j_bugs/Math_18b/src/main/java/org/apache/commons/math3/optimization/direct/CMAESOptimizer.java\n+++ b/data/defects4j_bugs/Math_18f/src/main/java/org/apache/commons/math3/optimization/direct/CMAESOptimizer.java\n@@ -929,7 +929,7 @@ public class CMAESOptimizer\n             double[] res = new double[x.length];\n             for (int i = 0; i < x.length; i++) {\n                 double diff = boundaries[1][i] - boundaries[0][i];\n-                res[i] = (x[i] - boundaries[0][i]) / diff;\n+                res[i] = x[i] / diff;\n             }\n             return res;\n         }\n@@ -955,7 +955,7 @@ public class CMAESOptimizer\n             double[] res = new double[x.length];\n             for (int i = 0; i < x.length; i++) {\n                 double diff = boundaries[1][i] - boundaries[0][i];\n-                res[i] = diff * x[i] + boundaries[0][i];\n+                res[i] = diff * x[i];\n             }\n             return res;\n         }\n@@ -987,12 +987,14 @@ public class CMAESOptimizer\n                 return true;\n             }\n \n+            final double[] bLoEnc = encode(boundaries[0]);\n+            final double[] bHiEnc = encode(boundaries[1]);\n \n             for (int i = 0; i < x.length; i++) {\n-                if (x[i] < 0) {\n+                if (x[i] < bLoEnc[i]) {\n                     return false;\n                 }\n-                if (x[i] > 1.0) {\n+                if (x[i] > bHiEnc[i]) {\n                     return false;\n                 }\n             }\ndiff --git a/data/defects4j_bugs/Math_18b/target/classes/org/apache/commons/math3/optimization/direct/CMAESOptimizer$FitnessFunction.class b/data/defects4j_bugs/Math_18f/target/classes/org/apache/commons/math3/optimization/direct/CMAESOptimizer$FitnessFunction.class\nindex ea8700f..5f632e6 100644\nBinary files a/data/defects4j_bugs/Math_18b/target/classes/org/apache/commons/math3/optimization/direct/CMAESOptimizer$FitnessFunction.class and b/data/defects4j_bugs/Math_18f/target/classes/org/apache/commons/math3/optimization/direct/CMAESOptimizer$FitnessFunction.class differ\ndiff --git a/data/defects4j_bugs/Math_18b/target/classes/org/apache/commons/math3/optimization/direct/CMAESOptimizer.class b/data/defects4j_bugs/Math_18f/target/classes/org/apache/commons/math3/optimization/direct/CMAESOptimizer.class\nindex 4d911ed..0752827 100644\nBinary files a/data/defects4j_bugs/Math_18b/target/classes/org/apache/commons/math3/optimization/direct/CMAESOptimizer.class and b/data/defects4j_bugs/Math_18f/target/classes/org/apache/commons/math3/optimization/direct/CMAESOptimizer.class differ\n",
  "source_files_path": "data/defects4j_bugs/Math_18_source"
}