{
  "project": "Math",
  "bug_id": 13,
  "buggy_compiled": true,
  "fixed_compiled": true,
  "buggy_metadata": {
    "classes.modified": [
      "org.apache.commons.math3.optimization.general.AbstractLeastSquaresOptimizer"
    ],
    "tests.trigger": [
      "org.apache.commons.math3.optimization.fitting.PolynomialFitterTest::testLargeSample"
    ],
    "dir.src.classes": [
      "src/main/java"
    ]
  },
  "fixed_metadata": {
    "classes.modified": [
      "org.apache.commons.math3.optimization.general.AbstractLeastSquaresOptimizer"
    ],
    "tests.trigger": [
      "org.apache.commons.math3.optimization.fitting.PolynomialFitterTest::testLargeSample"
    ],
    "dir.src.classes": [
      "src/main/java"
    ]
  },
  "diff": "diff --git a/data/defects4j_bugs/Math_13b/.defects4j.config b/data/defects4j_bugs/Math_13f/.defects4j.config\nindex d2a37eb..c040ede 100644\n--- a/data/defects4j_bugs/Math_13b/.defects4j.config\n+++ b/data/defects4j_bugs/Math_13f/.defects4j.config\n@@ -1,3 +1,3 @@\n #File automatically generated by Defects4J\n pid=Math\n-vid=13b\n+vid=13f\ndiff --git a/data/defects4j_bugs/Math_13b/.git/HEAD b/data/defects4j_bugs/Math_13f/.git/HEAD\nindex fa968f7..050f0da 100644\n--- a/data/defects4j_bugs/Math_13b/.git/HEAD\n+++ b/data/defects4j_bugs/Math_13f/.git/HEAD\n@@ -1 +1 @@\n-5247bad1d78dbe3df7654e95ef52e27a0c096df9\n+4bdecbf206893e043c72e4fad994ddbd8bde6424\ndiff --git a/data/defects4j_bugs/Math_13b/.git/index b/data/defects4j_bugs/Math_13f/.git/index\nindex 74a1298..990bfd8 100644\nBinary files a/data/defects4j_bugs/Math_13b/.git/index and b/data/defects4j_bugs/Math_13f/.git/index differ\ndiff --git a/data/defects4j_bugs/Math_13b/.git/logs/HEAD b/data/defects4j_bugs/Math_13f/.git/logs/HEAD\nindex 497af9d..4f37f5e 100644\n--- a/data/defects4j_bugs/Math_13b/.git/logs/HEAD\n+++ b/data/defects4j_bugs/Math_13f/.git/logs/HEAD\n@@ -1,9 +1,9 @@\n-0000000000000000000000000000000000000000 ab9b0b0c2d0913e7f2a894650255564a40b05277 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425569 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-math.git\n-ab9b0b0c2d0913e7f2a894650255564a40b05277 2836a6f9efcd30effe2f1125d47c38f62f96ed09 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425569 -0700\tcheckout: moving from master to 2836a6f9efcd30effe2f1125d47c38f62f96ed09\n-2836a6f9efcd30effe2f1125d47c38f62f96ed09 b9874ef72cfee448ff9a01df7bb7d53d7c794709 defects4j <defects4j@localhost> 1761425570 -0700\tcommit: D4J_Math_13_POST_FIX_REVISION\n-b9874ef72cfee448ff9a01df7bb7d53d7c794709 69d59b803b3c4e0ab352831b80c6f09b5079d25a defects4j <defects4j@localhost> 1761425570 -0700\tcommit: D4J_Math_13_POST_FIX_COMPILABLE\n-69d59b803b3c4e0ab352831b80c6f09b5079d25a 97ff76a6e4af492d7c649dc1b43759adae3aed89 defects4j <defects4j@localhost> 1761425573 -0700\tcommit: D4J_Math_13_FIXED_VERSION\n-97ff76a6e4af492d7c649dc1b43759adae3aed89 5247bad1d78dbe3df7654e95ef52e27a0c096df9 defects4j <defects4j@localhost> 1761425573 -0700\tcommit: D4J_Math_13_BUGGY_VERSION\n-5247bad1d78dbe3df7654e95ef52e27a0c096df9 b9874ef72cfee448ff9a01df7bb7d53d7c794709 defects4j <defects4j@localhost> 1761425573 -0700\tcheckout: moving from 5247bad1d78dbe3df7654e95ef52e27a0c096df9 to D4J_Math_13_POST_FIX_REVISION\n-b9874ef72cfee448ff9a01df7bb7d53d7c794709 949c96b6a5a455690010a7a1ed94932fefd0be32 defects4j <defects4j@localhost> 1761425573 -0700\tcommit: D4J_Math_13_PRE_FIX_REVISION\n-949c96b6a5a455690010a7a1ed94932fefd0be32 5247bad1d78dbe3df7654e95ef52e27a0c096df9 defects4j <defects4j@localhost> 1761425573 -0700\tcheckout: moving from 949c96b6a5a455690010a7a1ed94932fefd0be32 to D4J_Math_13_BUGGY_VERSION\n+0000000000000000000000000000000000000000 ab9b0b0c2d0913e7f2a894650255564a40b05277 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425573 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-math.git\n+ab9b0b0c2d0913e7f2a894650255564a40b05277 2836a6f9efcd30effe2f1125d47c38f62f96ed09 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425573 -0700\tcheckout: moving from master to 2836a6f9efcd30effe2f1125d47c38f62f96ed09\n+2836a6f9efcd30effe2f1125d47c38f62f96ed09 2377331f6668b0570e3db16a64105d7a9bfbea22 defects4j <defects4j@localhost> 1761425574 -0700\tcommit: D4J_Math_13_POST_FIX_REVISION\n+2377331f6668b0570e3db16a64105d7a9bfbea22 1c9e5a5ec7cbcf4ef2005cfc265e58cbecb102de defects4j <defects4j@localhost> 1761425574 -0700\tcommit: D4J_Math_13_POST_FIX_COMPILABLE\n+1c9e5a5ec7cbcf4ef2005cfc265e58cbecb102de 4bdecbf206893e043c72e4fad994ddbd8bde6424 defects4j <defects4j@localhost> 1761425577 -0700\tcommit: D4J_Math_13_FIXED_VERSION\n+4bdecbf206893e043c72e4fad994ddbd8bde6424 e33aef5336c16698da5d769d877c98285be4df3d defects4j <defects4j@localhost> 1761425577 -0700\tcommit: D4J_Math_13_BUGGY_VERSION\n+e33aef5336c16698da5d769d877c98285be4df3d 2377331f6668b0570e3db16a64105d7a9bfbea22 defects4j <defects4j@localhost> 1761425577 -0700\tcheckout: moving from e33aef5336c16698da5d769d877c98285be4df3d to D4J_Math_13_POST_FIX_REVISION\n+2377331f6668b0570e3db16a64105d7a9bfbea22 d9bc3ac0ecd07ba708af81e282d365f3e2ba56aa defects4j <defects4j@localhost> 1761425577 -0700\tcommit: D4J_Math_13_PRE_FIX_REVISION\n+d9bc3ac0ecd07ba708af81e282d365f3e2ba56aa 4bdecbf206893e043c72e4fad994ddbd8bde6424 defects4j <defects4j@localhost> 1761425577 -0700\tcheckout: moving from d9bc3ac0ecd07ba708af81e282d365f3e2ba56aa to D4J_Math_13_FIXED_VERSION\ndiff --git a/data/defects4j_bugs/Math_13b/.git/logs/refs/heads/master b/data/defects4j_bugs/Math_13f/.git/logs/refs/heads/master\nindex 46762ee..3153331 100644\n--- a/data/defects4j_bugs/Math_13b/.git/logs/refs/heads/master\n+++ b/data/defects4j_bugs/Math_13f/.git/logs/refs/heads/master\n@@ -1 +1 @@\n-0000000000000000000000000000000000000000 ab9b0b0c2d0913e7f2a894650255564a40b05277 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425569 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-math.git\n+0000000000000000000000000000000000000000 ab9b0b0c2d0913e7f2a894650255564a40b05277 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425573 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-math.git\ndiff --git a/data/defects4j_bugs/Math_13b/.git/logs/refs/remotes/origin/HEAD b/data/defects4j_bugs/Math_13f/.git/logs/refs/remotes/origin/HEAD\nindex 46762ee..3153331 100644\n--- a/data/defects4j_bugs/Math_13b/.git/logs/refs/remotes/origin/HEAD\n+++ b/data/defects4j_bugs/Math_13f/.git/logs/refs/remotes/origin/HEAD\n@@ -1 +1 @@\n-0000000000000000000000000000000000000000 ab9b0b0c2d0913e7f2a894650255564a40b05277 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425569 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-math.git\n+0000000000000000000000000000000000000000 ab9b0b0c2d0913e7f2a894650255564a40b05277 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425573 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-math.git\ndiff --git a/data/defects4j_bugs/Math_13f/.git/objects/1c/9e5a5ec7cbcf4ef2005cfc265e58cbecb102de b/data/defects4j_bugs/Math_13f/.git/objects/1c/9e5a5ec7cbcf4ef2005cfc265e58cbecb102de\nnew file mode 100644\nindex 0000000..b7d19c5\nBinary files /dev/null and b/data/defects4j_bugs/Math_13f/.git/objects/1c/9e5a5ec7cbcf4ef2005cfc265e58cbecb102de differ\ndiff --git a/data/defects4j_bugs/Math_13b/.git/objects/b9/874ef72cfee448ff9a01df7bb7d53d7c794709 b/data/defects4j_bugs/Math_13f/.git/objects/23/77331f6668b0570e3db16a64105d7a9bfbea22\nsimilarity index 70%\nrename from data/defects4j_bugs/Math_13b/.git/objects/b9/874ef72cfee448ff9a01df7bb7d53d7c794709\nrename to data/defects4j_bugs/Math_13f/.git/objects/23/77331f6668b0570e3db16a64105d7a9bfbea22\nindex c609de2..9509013 100644\nBinary files a/data/defects4j_bugs/Math_13b/.git/objects/b9/874ef72cfee448ff9a01df7bb7d53d7c794709 and b/data/defects4j_bugs/Math_13f/.git/objects/23/77331f6668b0570e3db16a64105d7a9bfbea22 differ\ndiff --git a/data/defects4j_bugs/Math_13f/.git/objects/4b/decbf206893e043c72e4fad994ddbd8bde6424 b/data/defects4j_bugs/Math_13f/.git/objects/4b/decbf206893e043c72e4fad994ddbd8bde6424\nnew file mode 100644\nindex 0000000..26bce25\n--- /dev/null\n+++ b/data/defects4j_bugs/Math_13f/.git/objects/4b/decbf206893e043c72e4fad994ddbd8bde6424\n@@ -0,0 +1,2 @@\n+x\u0001A\n+0\u0010@Q9E. \u0324\u0102VPPAA\u0715d:\u001a\u000b\u000fo\u001e|hS\u0464\":GN\u0018@\u0012\b`\f\u0019k`zQ\u001eE#\u0013\u001c9YI\u0006qbCN\u070cpD0.C\u001eu/IU\u007fe\u000e!B'9\u0014<`?j\u06c62tXumS{8;\u0001;\u0016J\n\\ No newline at end of file\ndiff --git a/data/defects4j_bugs/Math_13b/.git/objects/52/47bad1d78dbe3df7654e95ef52e27a0c096df9 b/data/defects4j_bugs/Math_13b/.git/objects/52/47bad1d78dbe3df7654e95ef52e27a0c096df9\ndeleted file mode 100644\nindex 767bfd6..0000000\n--- a/data/defects4j_bugs/Math_13b/.git/objects/52/47bad1d78dbe3df7654e95ef52e27a0c096df9\n+++ /dev/null\n@@ -1,3 +0,0 @@\n-x\u0001A\n-0\u0010@Q9E. 4db@DD\u0011\u0005\u0015\u0014\u0005We:PEx\u007f\u0007p7\u000f>wh8(A,DrB#\u0003\u00183\u0007L\u0300MH\u0553zy\u0014\u001dC\u0001\tQv\u0011R`t1i\n>R\"$i\u0014\u0015K:I\u0016./w_No\u001d\u04ed^eM@`\n-U;X\u000fn]o\\b\u007fX\u0003K\u0015\n\\ No newline at end of file\ndiff --git a/data/defects4j_bugs/Math_13b/.git/objects/69/d59b803b3c4e0ab352831b80c6f09b5079d25a b/data/defects4j_bugs/Math_13b/.git/objects/69/d59b803b3c4e0ab352831b80c6f09b5079d25a\ndeleted file mode 100644\nindex b4efc17..0000000\nBinary files a/data/defects4j_bugs/Math_13b/.git/objects/69/d59b803b3c4e0ab352831b80c6f09b5079d25a and /dev/null differ\ndiff --git a/data/defects4j_bugs/Math_13b/.git/objects/94/9c96b6a5a455690010a7a1ed94932fefd0be32 b/data/defects4j_bugs/Math_13b/.git/objects/94/9c96b6a5a455690010a7a1ed94932fefd0be32\ndeleted file mode 100644\nindex d6a376f..0000000\nBinary files a/data/defects4j_bugs/Math_13b/.git/objects/94/9c96b6a5a455690010a7a1ed94932fefd0be32 and /dev/null differ\ndiff --git a/data/defects4j_bugs/Math_13b/.git/objects/97/ff76a6e4af492d7c649dc1b43759adae3aed89 b/data/defects4j_bugs/Math_13b/.git/objects/97/ff76a6e4af492d7c649dc1b43759adae3aed89\ndeleted file mode 100644\nindex ea632a7..0000000\nBinary files a/data/defects4j_bugs/Math_13b/.git/objects/97/ff76a6e4af492d7c649dc1b43759adae3aed89 and /dev/null differ\ndiff --git a/data/defects4j_bugs/Math_13f/.git/objects/d9/bc3ac0ecd07ba708af81e282d365f3e2ba56aa b/data/defects4j_bugs/Math_13f/.git/objects/d9/bc3ac0ecd07ba708af81e282d365f3e2ba56aa\nnew file mode 100644\nindex 0000000..e3178f9\nBinary files /dev/null and b/data/defects4j_bugs/Math_13f/.git/objects/d9/bc3ac0ecd07ba708af81e282d365f3e2ba56aa differ\ndiff --git a/data/defects4j_bugs/Math_13f/.git/objects/e3/3aef5336c16698da5d769d877c98285be4df3d b/data/defects4j_bugs/Math_13f/.git/objects/e3/3aef5336c16698da5d769d877c98285be4df3d\nnew file mode 100644\nindex 0000000..23662eb\nBinary files /dev/null and b/data/defects4j_bugs/Math_13f/.git/objects/e3/3aef5336c16698da5d769d877c98285be4df3d differ\ndiff --git a/data/defects4j_bugs/Math_13b/.git/refs/tags/D4J_Math_13_BUGGY_VERSION b/data/defects4j_bugs/Math_13f/.git/refs/tags/D4J_Math_13_BUGGY_VERSION\nindex fa968f7..94cec86 100644\n--- a/data/defects4j_bugs/Math_13b/.git/refs/tags/D4J_Math_13_BUGGY_VERSION\n+++ b/data/defects4j_bugs/Math_13f/.git/refs/tags/D4J_Math_13_BUGGY_VERSION\n@@ -1 +1 @@\n-5247bad1d78dbe3df7654e95ef52e27a0c096df9\n+e33aef5336c16698da5d769d877c98285be4df3d\ndiff --git a/data/defects4j_bugs/Math_13b/.git/refs/tags/D4J_Math_13_FIXED_VERSION b/data/defects4j_bugs/Math_13f/.git/refs/tags/D4J_Math_13_FIXED_VERSION\nindex 8e90841..050f0da 100644\n--- a/data/defects4j_bugs/Math_13b/.git/refs/tags/D4J_Math_13_FIXED_VERSION\n+++ b/data/defects4j_bugs/Math_13f/.git/refs/tags/D4J_Math_13_FIXED_VERSION\n@@ -1 +1 @@\n-97ff76a6e4af492d7c649dc1b43759adae3aed89\n+4bdecbf206893e043c72e4fad994ddbd8bde6424\ndiff --git a/data/defects4j_bugs/Math_13b/.git/refs/tags/D4J_Math_13_POST_FIX_COMPILABLE b/data/defects4j_bugs/Math_13f/.git/refs/tags/D4J_Math_13_POST_FIX_COMPILABLE\nindex 3811b8d..359057b 100644\n--- a/data/defects4j_bugs/Math_13b/.git/refs/tags/D4J_Math_13_POST_FIX_COMPILABLE\n+++ b/data/defects4j_bugs/Math_13f/.git/refs/tags/D4J_Math_13_POST_FIX_COMPILABLE\n@@ -1 +1 @@\n-69d59b803b3c4e0ab352831b80c6f09b5079d25a\n+1c9e5a5ec7cbcf4ef2005cfc265e58cbecb102de\ndiff --git a/data/defects4j_bugs/Math_13b/.git/refs/tags/D4J_Math_13_POST_FIX_REVISION b/data/defects4j_bugs/Math_13f/.git/refs/tags/D4J_Math_13_POST_FIX_REVISION\nindex 107b38f..cc1f9c5 100644\n--- a/data/defects4j_bugs/Math_13b/.git/refs/tags/D4J_Math_13_POST_FIX_REVISION\n+++ b/data/defects4j_bugs/Math_13f/.git/refs/tags/D4J_Math_13_POST_FIX_REVISION\n@@ -1 +1 @@\n-b9874ef72cfee448ff9a01df7bb7d53d7c794709\n+2377331f6668b0570e3db16a64105d7a9bfbea22\ndiff --git a/data/defects4j_bugs/Math_13b/.git/refs/tags/D4J_Math_13_PRE_FIX_REVISION b/data/defects4j_bugs/Math_13f/.git/refs/tags/D4J_Math_13_PRE_FIX_REVISION\nindex 842fdd1..cced2a1 100644\n--- a/data/defects4j_bugs/Math_13b/.git/refs/tags/D4J_Math_13_PRE_FIX_REVISION\n+++ b/data/defects4j_bugs/Math_13f/.git/refs/tags/D4J_Math_13_PRE_FIX_REVISION\n@@ -1 +1 @@\n-949c96b6a5a455690010a7a1ed94932fefd0be32\n+d9bc3ac0ecd07ba708af81e282d365f3e2ba56aa\ndiff --git a/data/defects4j_bugs/Math_13b/src/main/java/org/apache/commons/math3/optimization/general/AbstractLeastSquaresOptimizer.java b/data/defects4j_bugs/Math_13f/src/main/java/org/apache/commons/math3/optimization/general/AbstractLeastSquaresOptimizer.java\nindex 99d86e9..982e559 100644\n--- a/data/defects4j_bugs/Math_13b/src/main/java/org/apache/commons/math3/optimization/general/AbstractLeastSquaresOptimizer.java\n+++ b/data/defects4j_bugs/Math_13f/src/main/java/org/apache/commons/math3/optimization/general/AbstractLeastSquaresOptimizer.java\n@@ -559,7 +559,16 @@ public abstract class AbstractLeastSquaresOptimizer\n      * @return the square-root of the weight matrix.\n      */\n     private RealMatrix squareRoot(RealMatrix m) {\n+        if (m instanceof DiagonalMatrix) {\n+            final int dim = m.getRowDimension();\n+            final RealMatrix sqrtM = new DiagonalMatrix(dim);\n+            for (int i = 0; i < dim; i++) {\n+               sqrtM.setEntry(i, i, FastMath.sqrt(m.getEntry(i, i)));\n+            }\n+            return sqrtM;\n+        } else {\n             final EigenDecomposition dec = new EigenDecomposition(m);\n             return dec.getSquareRoot();\n+        }\n     }\n }\ndiff --git a/data/defects4j_bugs/Math_13b/target/classes/org/apache/commons/math3/optimization/general/AbstractLeastSquaresOptimizer.class b/data/defects4j_bugs/Math_13f/target/classes/org/apache/commons/math3/optimization/general/AbstractLeastSquaresOptimizer.class\nindex 0d6431d..bf2cd98 100644\nBinary files a/data/defects4j_bugs/Math_13b/target/classes/org/apache/commons/math3/optimization/general/AbstractLeastSquaresOptimizer.class and b/data/defects4j_bugs/Math_13f/target/classes/org/apache/commons/math3/optimization/general/AbstractLeastSquaresOptimizer.class differ\n",
  "source_files_path": "data/defects4j_bugs/Math_13_source"
}