{
  "project": "Chart",
  "bug_id": 18,
  "buggy_compiled": true,
  "fixed_compiled": true,
  "buggy_metadata": {
    "classes.modified": [
      "org.jfree.data.DefaultKeyedValues",
      "org.jfree.data.DefaultKeyedValues2D"
    ],
    "tests.trigger": [
      "org.jfree.data.category.junit.DefaultCategoryDatasetTests::testBug1835955",
      "org.jfree.data.junit.DefaultKeyedValues2DTests::testRemoveColumnByKey",
      "org.jfree.data.junit.DefaultKeyedValuesTests::testRemoveValue",
      "org.jfree.data.junit.DefaultKeyedValuesTests::testGetIndex2"
    ],
    "dir.src.classes": [
      "source"
    ]
  },
  "fixed_metadata": {
    "classes.modified": [
      "org.jfree.data.DefaultKeyedValues",
      "org.jfree.data.DefaultKeyedValues2D"
    ],
    "tests.trigger": [
      "org.jfree.data.category.junit.DefaultCategoryDatasetTests::testBug1835955",
      "org.jfree.data.junit.DefaultKeyedValues2DTests::testRemoveColumnByKey",
      "org.jfree.data.junit.DefaultKeyedValuesTests::testRemoveValue",
      "org.jfree.data.junit.DefaultKeyedValuesTests::testGetIndex2"
    ],
    "dir.src.classes": [
      "source"
    ]
  },
  "diff": "diff --git a/data/defects4j_bugs/Chart_18b/.defects4j.config b/data/defects4j_bugs/Chart_18f/.defects4j.config\nindex 50c1ff4..264842d 100644\n--- a/data/defects4j_bugs/Chart_18b/.defects4j.config\n+++ b/data/defects4j_bugs/Chart_18f/.defects4j.config\n@@ -1,3 +1,3 @@\n #File automatically generated by Defects4J\n pid=Chart\n-vid=18b\n+vid=18f\ndiff --git a/data/defects4j_bugs/Chart_18b/.git/HEAD b/data/defects4j_bugs/Chart_18f/.git/HEAD\nindex 8c39970..42d3fb9 100644\n--- a/data/defects4j_bugs/Chart_18b/.git/HEAD\n+++ b/data/defects4j_bugs/Chart_18f/.git/HEAD\n@@ -1 +1 @@\n-a4c0718f6ce6d3a5a5e2ef9c167f219edc3407b2\n+3e1cd9db0df4bd8f684bd5b22d5624bcf6dd5a02\ndiff --git a/data/defects4j_bugs/Chart_18b/.git/index b/data/defects4j_bugs/Chart_18f/.git/index\nindex 0ee1961..7a1f77c 100644\nBinary files a/data/defects4j_bugs/Chart_18b/.git/index and b/data/defects4j_bugs/Chart_18f/.git/index differ\ndiff --git a/data/defects4j_bugs/Chart_18b/.git/logs/HEAD b/data/defects4j_bugs/Chart_18f/.git/logs/HEAD\nindex 1aba9eb..187b25e 100644\n--- a/data/defects4j_bugs/Chart_18b/.git/logs/HEAD\n+++ b/data/defects4j_bugs/Chart_18f/.git/logs/HEAD\n@@ -1,6 +1,6 @@\n-0000000000000000000000000000000000000000 29e14aaea9c6abe53b38714a9d41924b4979dbdf defects4j <defects4j@localhost> 1761426070 -0700\tcommit (initial): D4J_Chart_18_POST_FIX_REVISION\n-29e14aaea9c6abe53b38714a9d41924b4979dbdf 59469d7afe3c3cbfd0879c3d32561c90d00b14ad defects4j <defects4j@localhost> 1761426072 -0700\tcommit: D4J_Chart_18_FIXED_VERSION\n-59469d7afe3c3cbfd0879c3d32561c90d00b14ad a4c0718f6ce6d3a5a5e2ef9c167f219edc3407b2 defects4j <defects4j@localhost> 1761426072 -0700\tcommit: D4J_Chart_18_BUGGY_VERSION\n-a4c0718f6ce6d3a5a5e2ef9c167f219edc3407b2 29e14aaea9c6abe53b38714a9d41924b4979dbdf defects4j <defects4j@localhost> 1761426072 -0700\tcheckout: moving from master to D4J_Chart_18_POST_FIX_REVISION\n-29e14aaea9c6abe53b38714a9d41924b4979dbdf 66d6f361a32768b321082c7c6b4e02a5066fcb04 defects4j <defects4j@localhost> 1761426072 -0700\tcommit: D4J_Chart_18_PRE_FIX_REVISION\n-66d6f361a32768b321082c7c6b4e02a5066fcb04 a4c0718f6ce6d3a5a5e2ef9c167f219edc3407b2 defects4j <defects4j@localhost> 1761426072 -0700\tcheckout: moving from 66d6f361a32768b321082c7c6b4e02a5066fcb04 to D4J_Chart_18_BUGGY_VERSION\n+0000000000000000000000000000000000000000 241d94a78a5771a6c096c51bee9fd5fd0871eb46 defects4j <defects4j@localhost> 1761426074 -0700\tcommit (initial): D4J_Chart_18_POST_FIX_REVISION\n+241d94a78a5771a6c096c51bee9fd5fd0871eb46 3e1cd9db0df4bd8f684bd5b22d5624bcf6dd5a02 defects4j <defects4j@localhost> 1761426076 -0700\tcommit: D4J_Chart_18_FIXED_VERSION\n+3e1cd9db0df4bd8f684bd5b22d5624bcf6dd5a02 f7569af481f0252b58cae0d6cee9488a9a455f2b defects4j <defects4j@localhost> 1761426076 -0700\tcommit: D4J_Chart_18_BUGGY_VERSION\n+f7569af481f0252b58cae0d6cee9488a9a455f2b 241d94a78a5771a6c096c51bee9fd5fd0871eb46 defects4j <defects4j@localhost> 1761426076 -0700\tcheckout: moving from master to D4J_Chart_18_POST_FIX_REVISION\n+241d94a78a5771a6c096c51bee9fd5fd0871eb46 d3a5be4786755a939adbdf974ec32275ff24b958 defects4j <defects4j@localhost> 1761426076 -0700\tcommit: D4J_Chart_18_PRE_FIX_REVISION\n+d3a5be4786755a939adbdf974ec32275ff24b958 3e1cd9db0df4bd8f684bd5b22d5624bcf6dd5a02 defects4j <defects4j@localhost> 1761426076 -0700\tcheckout: moving from d3a5be4786755a939adbdf974ec32275ff24b958 to D4J_Chart_18_FIXED_VERSION\ndiff --git a/data/defects4j_bugs/Chart_18b/.git/logs/refs/heads/master b/data/defects4j_bugs/Chart_18f/.git/logs/refs/heads/master\nindex 4c826be..a8ed7a8 100644\n--- a/data/defects4j_bugs/Chart_18b/.git/logs/refs/heads/master\n+++ b/data/defects4j_bugs/Chart_18f/.git/logs/refs/heads/master\n@@ -1,3 +1,3 @@\n-0000000000000000000000000000000000000000 29e14aaea9c6abe53b38714a9d41924b4979dbdf defects4j <defects4j@localhost> 1761426070 -0700\tcommit (initial): D4J_Chart_18_POST_FIX_REVISION\n-29e14aaea9c6abe53b38714a9d41924b4979dbdf 59469d7afe3c3cbfd0879c3d32561c90d00b14ad defects4j <defects4j@localhost> 1761426072 -0700\tcommit: D4J_Chart_18_FIXED_VERSION\n-59469d7afe3c3cbfd0879c3d32561c90d00b14ad a4c0718f6ce6d3a5a5e2ef9c167f219edc3407b2 defects4j <defects4j@localhost> 1761426072 -0700\tcommit: D4J_Chart_18_BUGGY_VERSION\n+0000000000000000000000000000000000000000 241d94a78a5771a6c096c51bee9fd5fd0871eb46 defects4j <defects4j@localhost> 1761426074 -0700\tcommit (initial): D4J_Chart_18_POST_FIX_REVISION\n+241d94a78a5771a6c096c51bee9fd5fd0871eb46 3e1cd9db0df4bd8f684bd5b22d5624bcf6dd5a02 defects4j <defects4j@localhost> 1761426076 -0700\tcommit: D4J_Chart_18_FIXED_VERSION\n+3e1cd9db0df4bd8f684bd5b22d5624bcf6dd5a02 f7569af481f0252b58cae0d6cee9488a9a455f2b defects4j <defects4j@localhost> 1761426076 -0700\tcommit: D4J_Chart_18_BUGGY_VERSION\ndiff --git a/data/defects4j_bugs/Chart_18f/.git/objects/24/1d94a78a5771a6c096c51bee9fd5fd0871eb46 b/data/defects4j_bugs/Chart_18f/.git/objects/24/1d94a78a5771a6c096c51bee9fd5fd0871eb46\nnew file mode 100644\nindex 0000000..aa411c3\nBinary files /dev/null and b/data/defects4j_bugs/Chart_18f/.git/objects/24/1d94a78a5771a6c096c51bee9fd5fd0871eb46 differ\ndiff --git a/data/defects4j_bugs/Chart_18b/.git/objects/29/e14aaea9c6abe53b38714a9d41924b4979dbdf b/data/defects4j_bugs/Chart_18b/.git/objects/29/e14aaea9c6abe53b38714a9d41924b4979dbdf\ndeleted file mode 100644\nindex 3d387f7..0000000\nBinary files a/data/defects4j_bugs/Chart_18b/.git/objects/29/e14aaea9c6abe53b38714a9d41924b4979dbdf and /dev/null differ\ndiff --git a/data/defects4j_bugs/Chart_18f/.git/objects/3e/1cd9db0df4bd8f684bd5b22d5624bcf6dd5a02 b/data/defects4j_bugs/Chart_18f/.git/objects/3e/1cd9db0df4bd8f684bd5b22d5624bcf6dd5a02\nnew file mode 100644\nindex 0000000..0632901\n--- /dev/null\n+++ b/data/defects4j_bugs/Chart_18f/.git/objects/3e/1cd9db0df4bd8f684bd5b22d5624bcf6dd5a02\n@@ -0,0 +1,2 @@\n+x\u0001M\n+0\u0010@a9E. $m2\u000fBAA\u0715dB\u0015R\u0015\u0017\u001e|EW5 \u0013g;\u0018\u0004RmX\u0202\u000fU\u0001\u0010A\u001flj\u001ca h\t4F&'\th%:P*]?$Y<EO~9L\u05ee\u007f\bU`\u0010\u06201Ej66iha\u06ea7JK7\n\\ No newline at end of file\ndiff --git a/data/defects4j_bugs/Chart_18b/.git/objects/59/469d7afe3c3cbfd0879c3d32561c90d00b14ad b/data/defects4j_bugs/Chart_18b/.git/objects/59/469d7afe3c3cbfd0879c3d32561c90d00b14ad\ndeleted file mode 100644\nindex 68c704a..0000000\nBinary files a/data/defects4j_bugs/Chart_18b/.git/objects/59/469d7afe3c3cbfd0879c3d32561c90d00b14ad and /dev/null differ\ndiff --git a/data/defects4j_bugs/Chart_18b/.git/objects/66/d6f361a32768b321082c7c6b4e02a5066fcb04 b/data/defects4j_bugs/Chart_18b/.git/objects/66/d6f361a32768b321082c7c6b4e02a5066fcb04\ndeleted file mode 100644\nindex 3752e58..0000000\n--- a/data/defects4j_bugs/Chart_18b/.git/objects/66/d6f361a32768b321082c7c6b4e02a5066fcb04\n+++ /dev/null\n@@ -1,3 +0,0 @@\n-x\u0001Mj0\u0010u\n-] 0#-\tB)4\t8$\u0010\u0013\u0019\u0016\n-r.z>^xKeT\u0004:3\bZ 4QY(Zk5\u03f11\u0012jY5\u0016-@H!pp\n\u001b\u001d5Kq-q9^G\u001d,3~\u007f%q(&\u0474H\u0005\u001a\fH\u007f\u0007+@\u0156\u000ec\bshi\u055fv}\u001e\u0013yJ\n\\ No newline at end of file\ndiff --git a/data/defects4j_bugs/Chart_18b/.git/objects/a4/c0718f6ce6d3a5a5e2ef9c167f219edc3407b2 b/data/defects4j_bugs/Chart_18b/.git/objects/a4/c0718f6ce6d3a5a5e2ef9c167f219edc3407b2\ndeleted file mode 100644\nindex 82039ad..0000000\nBinary files a/data/defects4j_bugs/Chart_18b/.git/objects/a4/c0718f6ce6d3a5a5e2ef9c167f219edc3407b2 and /dev/null differ\ndiff --git a/data/defects4j_bugs/Chart_18f/.git/objects/d3/a5be4786755a939adbdf974ec32275ff24b958 b/data/defects4j_bugs/Chart_18f/.git/objects/d3/a5be4786755a939adbdf974ec32275ff24b958\nnew file mode 100644\nindex 0000000..f52defe\nBinary files /dev/null and b/data/defects4j_bugs/Chart_18f/.git/objects/d3/a5be4786755a939adbdf974ec32275ff24b958 differ\ndiff --git a/data/defects4j_bugs/Chart_18f/.git/objects/f7/569af481f0252b58cae0d6cee9488a9a455f2b b/data/defects4j_bugs/Chart_18f/.git/objects/f7/569af481f0252b58cae0d6cee9488a9a455f2b\nnew file mode 100644\nindex 0000000..7ea5a01\n--- /dev/null\n+++ b/data/defects4j_bugs/Chart_18f/.git/objects/f7/569af481f0252b58cae0d6cee9488a9a455f2b\n@@ -0,0 +1 @@\n+x\u0001j\u00021\u0010@=+\u0003Iv2YAJi+R\u000f\u0016*\u0015<If\u00b6nY+=\u0003zztjwqfU\u000f@\"K\bR#\u0510Y)PtHg=7\u06e9+\fR1K_#d%\\*\u0004\u0006o\u0686iUK]8\u0015\u001e\u001e\u0013D\u000f\u0010\u0001L\u001dl\u053c6\f<\u001ca\u007f{\u07d9\u001bNK_\n\\ No newline at end of file\ndiff --git a/data/defects4j_bugs/Chart_18b/.git/refs/heads/master b/data/defects4j_bugs/Chart_18f/.git/refs/heads/master\nindex 8c39970..25e683e 100644\n--- a/data/defects4j_bugs/Chart_18b/.git/refs/heads/master\n+++ b/data/defects4j_bugs/Chart_18f/.git/refs/heads/master\n@@ -1 +1 @@\n-a4c0718f6ce6d3a5a5e2ef9c167f219edc3407b2\n+f7569af481f0252b58cae0d6cee9488a9a455f2b\ndiff --git a/data/defects4j_bugs/Chart_18b/.git/refs/tags/D4J_Chart_18_BUGGY_VERSION b/data/defects4j_bugs/Chart_18f/.git/refs/tags/D4J_Chart_18_BUGGY_VERSION\nindex 8c39970..25e683e 100644\n--- a/data/defects4j_bugs/Chart_18b/.git/refs/tags/D4J_Chart_18_BUGGY_VERSION\n+++ b/data/defects4j_bugs/Chart_18f/.git/refs/tags/D4J_Chart_18_BUGGY_VERSION\n@@ -1 +1 @@\n-a4c0718f6ce6d3a5a5e2ef9c167f219edc3407b2\n+f7569af481f0252b58cae0d6cee9488a9a455f2b\ndiff --git a/data/defects4j_bugs/Chart_18b/.git/refs/tags/D4J_Chart_18_FIXED_VERSION b/data/defects4j_bugs/Chart_18f/.git/refs/tags/D4J_Chart_18_FIXED_VERSION\nindex 195b2bb..42d3fb9 100644\n--- a/data/defects4j_bugs/Chart_18b/.git/refs/tags/D4J_Chart_18_FIXED_VERSION\n+++ b/data/defects4j_bugs/Chart_18f/.git/refs/tags/D4J_Chart_18_FIXED_VERSION\n@@ -1 +1 @@\n-59469d7afe3c3cbfd0879c3d32561c90d00b14ad\n+3e1cd9db0df4bd8f684bd5b22d5624bcf6dd5a02\ndiff --git a/data/defects4j_bugs/Chart_18b/.git/refs/tags/D4J_Chart_18_POST_FIX_REVISION b/data/defects4j_bugs/Chart_18f/.git/refs/tags/D4J_Chart_18_POST_FIX_REVISION\nindex f4daf27..d09cd43 100644\n--- a/data/defects4j_bugs/Chart_18b/.git/refs/tags/D4J_Chart_18_POST_FIX_REVISION\n+++ b/data/defects4j_bugs/Chart_18f/.git/refs/tags/D4J_Chart_18_POST_FIX_REVISION\n@@ -1 +1 @@\n-29e14aaea9c6abe53b38714a9d41924b4979dbdf\n+241d94a78a5771a6c096c51bee9fd5fd0871eb46\ndiff --git a/data/defects4j_bugs/Chart_18b/.git/refs/tags/D4J_Chart_18_PRE_FIX_REVISION b/data/defects4j_bugs/Chart_18f/.git/refs/tags/D4J_Chart_18_PRE_FIX_REVISION\nindex 97ea792..fdad59b 100644\n--- a/data/defects4j_bugs/Chart_18b/.git/refs/tags/D4J_Chart_18_PRE_FIX_REVISION\n+++ b/data/defects4j_bugs/Chart_18f/.git/refs/tags/D4J_Chart_18_PRE_FIX_REVISION\n@@ -1 +1 @@\n-66d6f361a32768b321082c7c6b4e02a5066fcb04\n+d3a5be4786755a939adbdf974ec32275ff24b958\ndiff --git a/data/defects4j_bugs/Chart_18b/.svn/wc.db b/data/defects4j_bugs/Chart_18f/.svn/wc.db\nindex 1270156..2ddaa58 100644\nBinary files a/data/defects4j_bugs/Chart_18b/.svn/wc.db and b/data/defects4j_bugs/Chart_18f/.svn/wc.db differ\ndiff --git a/data/defects4j_bugs/Chart_18b/build/org/jfree/data/DefaultKeyedValues.class b/data/defects4j_bugs/Chart_18f/build/org/jfree/data/DefaultKeyedValues.class\nindex 786b1b9..4046d62 100644\nBinary files a/data/defects4j_bugs/Chart_18b/build/org/jfree/data/DefaultKeyedValues.class and b/data/defects4j_bugs/Chart_18f/build/org/jfree/data/DefaultKeyedValues.class differ\ndiff --git a/data/defects4j_bugs/Chart_18b/build/org/jfree/data/DefaultKeyedValues2D.class b/data/defects4j_bugs/Chart_18f/build/org/jfree/data/DefaultKeyedValues2D.class\nindex ed63504..81aaf88 100644\nBinary files a/data/defects4j_bugs/Chart_18b/build/org/jfree/data/DefaultKeyedValues2D.class and b/data/defects4j_bugs/Chart_18f/build/org/jfree/data/DefaultKeyedValues2D.class differ\ndiff --git a/data/defects4j_bugs/Chart_18b/source/org/jfree/data/DefaultKeyedValues.java b/data/defects4j_bugs/Chart_18f/source/org/jfree/data/DefaultKeyedValues.java\nindex 707eb0a..5569198 100644\n--- a/data/defects4j_bugs/Chart_18b/source/org/jfree/data/DefaultKeyedValues.java\n+++ b/data/defects4j_bugs/Chart_18f/source/org/jfree/data/DefaultKeyedValues.java\n@@ -315,9 +315,7 @@ public class DefaultKeyedValues implements KeyedValues,\n     public void removeValue(int index) {\n         this.keys.remove(index);\n         this.values.remove(index);\n-        if (index < this.keys.size()) {\n         rebuildIndex();\n-        }\n     }\n \n     /**\n@@ -332,7 +330,8 @@ public class DefaultKeyedValues implements KeyedValues,\n     public void removeValue(Comparable key) {\n         int index = getIndex(key);\n         if (index < 0) {\n-\t\t\treturn;\n+            throw new UnknownKeyException(\"The key (\" + key \n+                    + \") is not recognised.\");\n         }\n         removeValue(index);\n     }\ndiff --git a/data/defects4j_bugs/Chart_18b/source/org/jfree/data/DefaultKeyedValues2D.java b/data/defects4j_bugs/Chart_18f/source/org/jfree/data/DefaultKeyedValues2D.java\nindex 798d5d0..cb81694 100644\n--- a/data/defects4j_bugs/Chart_18b/source/org/jfree/data/DefaultKeyedValues2D.java\n+++ b/data/defects4j_bugs/Chart_18f/source/org/jfree/data/DefaultKeyedValues2D.java\n@@ -452,10 +452,19 @@ public class DefaultKeyedValues2D implements KeyedValues2D,\n      * @see #removeRow(Comparable)\n      */\n     public void removeColumn(Comparable columnKey) {\n+    \tif (columnKey == null) {\n+    \t\tthrow new IllegalArgumentException(\"Null 'columnKey' argument.\");\n+    \t}\n+    \tif (!this.columnKeys.contains(columnKey)) {\n+    \t\tthrow new UnknownKeyException(\"Unknown key: \" + columnKey);\n+    \t}\n         Iterator iterator = this.rows.iterator();\n         while (iterator.hasNext()) {\n             DefaultKeyedValues rowData = (DefaultKeyedValues) iterator.next();\n+            int index = rowData.getIndex(columnKey);\n+            if (index >= 0) {\n                 rowData.removeValue(columnKey);\n+            }\n         }\n         this.columnKeys.remove(columnKey);\n     }\n",
  "source_files_path": "data/defects4j_bugs/Chart_18_source"
}