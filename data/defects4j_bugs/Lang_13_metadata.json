{
  "project": "Lang",
  "bug_id": 13,
  "buggy_compiled": true,
  "fixed_compiled": true,
  "buggy_metadata": {
    "classes.modified": [
      "org.apache.commons.lang3.SerializationUtils"
    ],
    "tests.trigger": [
      "org.apache.commons.lang3.SerializationUtilsTest::testPrimitiveTypeClassSerialization"
    ],
    "dir.src.classes": [
      "src/main/java"
    ]
  },
  "fixed_metadata": {
    "classes.modified": [
      "org.apache.commons.lang3.SerializationUtils"
    ],
    "tests.trigger": [
      "org.apache.commons.lang3.SerializationUtilsTest::testPrimitiveTypeClassSerialization"
    ],
    "dir.src.classes": [
      "src/main/java"
    ]
  },
  "diff": "diff --git a/data/defects4j_bugs/Lang_13b/.defects4j.config b/data/defects4j_bugs/Lang_13f/.defects4j.config\nindex 75fed83..e6e935f 100644\n--- a/data/defects4j_bugs/Lang_13b/.defects4j.config\n+++ b/data/defects4j_bugs/Lang_13f/.defects4j.config\n@@ -1,3 +1,3 @@\n #File automatically generated by Defects4J\n pid=Lang\n-vid=13b\n+vid=13f\ndiff --git a/data/defects4j_bugs/Lang_13b/.git/HEAD b/data/defects4j_bugs/Lang_13f/.git/HEAD\nindex 4a1ef74..149b881 100644\n--- a/data/defects4j_bugs/Lang_13b/.git/HEAD\n+++ b/data/defects4j_bugs/Lang_13f/.git/HEAD\n@@ -1 +1 @@\n-dfa7d9d0449150916fbea4c8ed6dd653209b5577\n+3f2c4474bb33f123000cbf7c2dbd337cf254ab71\ndiff --git a/data/defects4j_bugs/Lang_13b/.git/index b/data/defects4j_bugs/Lang_13f/.git/index\nindex b597d9b..91d55e3 100644\nBinary files a/data/defects4j_bugs/Lang_13b/.git/index and b/data/defects4j_bugs/Lang_13f/.git/index differ\ndiff --git a/data/defects4j_bugs/Lang_13b/.git/logs/HEAD b/data/defects4j_bugs/Lang_13f/.git/logs/HEAD\nindex da00f1d..b6e3fac 100644\n--- a/data/defects4j_bugs/Lang_13b/.git/logs/HEAD\n+++ b/data/defects4j_bugs/Lang_13f/.git/logs/HEAD\n@@ -1,9 +1,9 @@\n-0000000000000000000000000000000000000000 eb4d185c675e12bd72b4e40250883274b18104d1 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425169 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-lang.git\n-eb4d185c675e12bd72b4e40250883274b18104d1 e9429c05e1a4797383fb405928088d2f8563ff97 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425169 -0700\tcheckout: moving from master to e9429c05e1a4797383fb405928088d2f8563ff97\n-e9429c05e1a4797383fb405928088d2f8563ff97 58f29f35b6f92cf2535199d56e08fb5947a5f4b4 defects4j <defects4j@localhost> 1761425169 -0700\tcommit: D4J_Lang_13_POST_FIX_REVISION\n-58f29f35b6f92cf2535199d56e08fb5947a5f4b4 a6bd825dc912665b35534ef3f0b3e0cf2b256de6 defects4j <defects4j@localhost> 1761425169 -0700\tcommit: D4J_Lang_13_POST_FIX_COMPILABLE\n-a6bd825dc912665b35534ef3f0b3e0cf2b256de6 e55bd424ba45a3a0e19f4053a4f258fd3dcf2306 defects4j <defects4j@localhost> 1761425172 -0700\tcommit: D4J_Lang_13_FIXED_VERSION\n-e55bd424ba45a3a0e19f4053a4f258fd3dcf2306 dfa7d9d0449150916fbea4c8ed6dd653209b5577 defects4j <defects4j@localhost> 1761425172 -0700\tcommit: D4J_Lang_13_BUGGY_VERSION\n-dfa7d9d0449150916fbea4c8ed6dd653209b5577 58f29f35b6f92cf2535199d56e08fb5947a5f4b4 defects4j <defects4j@localhost> 1761425172 -0700\tcheckout: moving from dfa7d9d0449150916fbea4c8ed6dd653209b5577 to D4J_Lang_13_POST_FIX_REVISION\n-58f29f35b6f92cf2535199d56e08fb5947a5f4b4 8d57e543296b74ffc7f0bcd7a105a5052f12d7ff defects4j <defects4j@localhost> 1761425172 -0700\tcommit: D4J_Lang_13_PRE_FIX_REVISION\n-8d57e543296b74ffc7f0bcd7a105a5052f12d7ff dfa7d9d0449150916fbea4c8ed6dd653209b5577 defects4j <defects4j@localhost> 1761425172 -0700\tcheckout: moving from 8d57e543296b74ffc7f0bcd7a105a5052f12d7ff to D4J_Lang_13_BUGGY_VERSION\n+0000000000000000000000000000000000000000 eb4d185c675e12bd72b4e40250883274b18104d1 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425173 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-lang.git\n+eb4d185c675e12bd72b4e40250883274b18104d1 e9429c05e1a4797383fb405928088d2f8563ff97 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425173 -0700\tcheckout: moving from master to e9429c05e1a4797383fb405928088d2f8563ff97\n+e9429c05e1a4797383fb405928088d2f8563ff97 d1d5d4d4a08b7f10d1c984388a93fe5302bff4ff defects4j <defects4j@localhost> 1761425173 -0700\tcommit: D4J_Lang_13_POST_FIX_REVISION\n+d1d5d4d4a08b7f10d1c984388a93fe5302bff4ff b6ec13d90f4e4e215af75bb29e4227c5b391330d defects4j <defects4j@localhost> 1761425173 -0700\tcommit: D4J_Lang_13_POST_FIX_COMPILABLE\n+b6ec13d90f4e4e215af75bb29e4227c5b391330d 3f2c4474bb33f123000cbf7c2dbd337cf254ab71 defects4j <defects4j@localhost> 1761425176 -0700\tcommit: D4J_Lang_13_FIXED_VERSION\n+3f2c4474bb33f123000cbf7c2dbd337cf254ab71 2ccc06933e1f61ac8ea2db371dd996ea7adde2d2 defects4j <defects4j@localhost> 1761425176 -0700\tcommit: D4J_Lang_13_BUGGY_VERSION\n+2ccc06933e1f61ac8ea2db371dd996ea7adde2d2 d1d5d4d4a08b7f10d1c984388a93fe5302bff4ff defects4j <defects4j@localhost> 1761425176 -0700\tcheckout: moving from 2ccc06933e1f61ac8ea2db371dd996ea7adde2d2 to D4J_Lang_13_POST_FIX_REVISION\n+d1d5d4d4a08b7f10d1c984388a93fe5302bff4ff 8621a0b32a6829ca92d771f90f6d205064cad15a defects4j <defects4j@localhost> 1761425176 -0700\tcommit: D4J_Lang_13_PRE_FIX_REVISION\n+8621a0b32a6829ca92d771f90f6d205064cad15a 3f2c4474bb33f123000cbf7c2dbd337cf254ab71 defects4j <defects4j@localhost> 1761425176 -0700\tcheckout: moving from 8621a0b32a6829ca92d771f90f6d205064cad15a to D4J_Lang_13_FIXED_VERSION\ndiff --git a/data/defects4j_bugs/Lang_13b/.git/logs/refs/heads/master b/data/defects4j_bugs/Lang_13f/.git/logs/refs/heads/master\nindex 6cf38b1..deb9fa5 100644\n--- a/data/defects4j_bugs/Lang_13b/.git/logs/refs/heads/master\n+++ b/data/defects4j_bugs/Lang_13f/.git/logs/refs/heads/master\n@@ -1 +1 @@\n-0000000000000000000000000000000000000000 eb4d185c675e12bd72b4e40250883274b18104d1 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425169 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-lang.git\n+0000000000000000000000000000000000000000 eb4d185c675e12bd72b4e40250883274b18104d1 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425173 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-lang.git\ndiff --git a/data/defects4j_bugs/Lang_13b/.git/logs/refs/remotes/origin/HEAD b/data/defects4j_bugs/Lang_13f/.git/logs/refs/remotes/origin/HEAD\nindex 6cf38b1..deb9fa5 100644\n--- a/data/defects4j_bugs/Lang_13b/.git/logs/refs/remotes/origin/HEAD\n+++ b/data/defects4j_bugs/Lang_13f/.git/logs/refs/remotes/origin/HEAD\n@@ -1 +1 @@\n-0000000000000000000000000000000000000000 eb4d185c675e12bd72b4e40250883274b18104d1 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425169 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-lang.git\n+0000000000000000000000000000000000000000 eb4d185c675e12bd72b4e40250883274b18104d1 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761425173 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/commons-lang.git\ndiff --git a/data/defects4j_bugs/Lang_13f/.git/objects/2c/cc06933e1f61ac8ea2db371dd996ea7adde2d2 b/data/defects4j_bugs/Lang_13f/.git/objects/2c/cc06933e1f61ac8ea2db371dd996ea7adde2d2\nnew file mode 100644\nindex 0000000..6b1ea61\nBinary files /dev/null and b/data/defects4j_bugs/Lang_13f/.git/objects/2c/cc06933e1f61ac8ea2db371dd996ea7adde2d2 differ\ndiff --git a/data/defects4j_bugs/Lang_13f/.git/objects/3f/2c4474bb33f123000cbf7c2dbd337cf254ab71 b/data/defects4j_bugs/Lang_13f/.git/objects/3f/2c4474bb33f123000cbf7c2dbd337cf254ab71\nnew file mode 100644\nindex 0000000..e3d563f\nBinary files /dev/null and b/data/defects4j_bugs/Lang_13f/.git/objects/3f/2c4474bb33f123000cbf7c2dbd337cf254ab71 differ\ndiff --git a/data/defects4j_bugs/Lang_13b/.git/objects/58/f29f35b6f92cf2535199d56e08fb5947a5f4b4 b/data/defects4j_bugs/Lang_13b/.git/objects/58/f29f35b6f92cf2535199d56e08fb5947a5f4b4\ndeleted file mode 100644\nindex 0413f30..0000000\n--- a/data/defects4j_bugs/Lang_13b/.git/objects/58/f29f35b6f92cf2535199d56e08fb5947a5f4b4\n+++ /dev/null\n@@ -1 +0,0 @@\n-x\u0001J\u00031\u0014@]+\u0003\u0005\".0Rli\u000bw272\u04d4i\u007f~@w\u0003\u0007N\u0764Fxh\u000b\u0501)\u00146\u0713\u000e}\u0010CrZQv\u0007Eh#XqOMrD\u001d3X>z\u0013L\u0011l\u0001B\u0018t\t\u0599R\u0017\u01ba\u0201\u000bv\u001fxfziORyP[\\\u0007\u0010:T[+)v1vi\u000e]\u0001f\u0005Jb\n\\ No newline at end of file\ndiff --git a/data/defects4j_bugs/Lang_13f/.git/objects/86/21a0b32a6829ca92d771f90f6d205064cad15a b/data/defects4j_bugs/Lang_13f/.git/objects/86/21a0b32a6829ca92d771f90f6d205064cad15a\nnew file mode 100644\nindex 0000000..118e7ab\nBinary files /dev/null and b/data/defects4j_bugs/Lang_13f/.git/objects/86/21a0b32a6829ca92d771f90f6d205064cad15a differ\ndiff --git a/data/defects4j_bugs/Lang_13b/.git/objects/8d/57e543296b74ffc7f0bcd7a105a5052f12d7ff b/data/defects4j_bugs/Lang_13b/.git/objects/8d/57e543296b74ffc7f0bcd7a105a5052f12d7ff\ndeleted file mode 100644\nindex 9445630..0000000\n--- a/data/defects4j_bugs/Lang_13b/.git/objects/8d/57e543296b74ffc7f0bcd7a105a5052f12d7ff\n+++ /dev/null\n@@ -1,4 +0,0 @@\n-x\u0001K\u00021\u0014@QYE6 $/y\u0003K(\u0011\u0015g!\u0017?%ez\n\u000e\\;9pp_\u001a\u0007'm$\u0015\"\u0004\u0018t\u0006RJ\u001a\u0014\u0019tH9=HUUa2C\n-\u0005\n\tW\u0013zm#V4\u007f<P^g\\\u0706\u001co\\Z#5\n-{\u0017-:l\u0014\n-C\u0017Vo8t?m?t5J\n\\ No newline at end of file\ndiff --git a/data/defects4j_bugs/Lang_13b/.git/objects/a6/bd825dc912665b35534ef3f0b3e0cf2b256de6 b/data/defects4j_bugs/Lang_13b/.git/objects/a6/bd825dc912665b35534ef3f0b3e0cf2b256de6\ndeleted file mode 100644\nindex 42425e4..0000000\nBinary files a/data/defects4j_bugs/Lang_13b/.git/objects/a6/bd825dc912665b35534ef3f0b3e0cf2b256de6 and /dev/null differ\ndiff --git a/data/defects4j_bugs/Lang_13f/.git/objects/b6/ec13d90f4e4e215af75bb29e4227c5b391330d b/data/defects4j_bugs/Lang_13f/.git/objects/b6/ec13d90f4e4e215af75bb29e4227c5b391330d\nnew file mode 100644\nindex 0000000..b0cc033\nBinary files /dev/null and b/data/defects4j_bugs/Lang_13f/.git/objects/b6/ec13d90f4e4e215af75bb29e4227c5b391330d differ\ndiff --git a/data/defects4j_bugs/Lang_13f/.git/objects/d1/d5d4d4a08b7f10d1c984388a93fe5302bff4ff b/data/defects4j_bugs/Lang_13f/.git/objects/d1/d5d4d4a08b7f10d1c984388a93fe5302bff4ff\nnew file mode 100644\nindex 0000000..1cf18dc\n--- /dev/null\n+++ b/data/defects4j_bugs/Lang_13f/.git/objects/d1/d5d4d4a08b7f10d1c984388a93fe5302bff4ff\n@@ -0,0 +1,2 @@\n+x\u0001J\u00031\u0014@]+\u0003\u0005\".0R).fn22\u0013_\u001fqR#<\u0505Y\u0014\n+\u001b>\u000e}\u0010CrZQv{Eh#Xq*9\u0019,{\u001f\t\u0010l\u0001Bu\t\u0599R\u0017[\"{.?\u00dci8k};*o\u0006<w\u0005\u048eL\u06b716h}\u0017\u007fcZJX\n\\ No newline at end of file\ndiff --git a/data/defects4j_bugs/Lang_13b/.git/objects/df/a7d9d0449150916fbea4c8ed6dd653209b5577 b/data/defects4j_bugs/Lang_13b/.git/objects/df/a7d9d0449150916fbea4c8ed6dd653209b5577\ndeleted file mode 100644\nindex a5f7c18..0000000\nBinary files a/data/defects4j_bugs/Lang_13b/.git/objects/df/a7d9d0449150916fbea4c8ed6dd653209b5577 and /dev/null differ\ndiff --git a/data/defects4j_bugs/Lang_13b/.git/objects/e5/5bd424ba45a3a0e19f4053a4f258fd3dcf2306 b/data/defects4j_bugs/Lang_13b/.git/objects/e5/5bd424ba45a3a0e19f4053a4f258fd3dcf2306\ndeleted file mode 100644\nindex 7a06da8..0000000\n--- a/data/defects4j_bugs/Lang_13b/.git/objects/e5/5bd424ba45a3a0e19f4053a4f258fd3dcf2306\n+++ /dev/null\n@@ -1,2 +0,0 @@\n-x\u0001AJC1\u0010a9E.PHf2)Hq\n-\u0015QP\u0010wd2O^\u0005\u0017\u001e\u077f|>\u000e\u000f7c1IHDT\u000b\u0014\b,J\u0005%2**\u0007U\u0016\f_6\u0001jL\u00150Y\u001e*Z\u000e\u0015+0/Y7\u001do4k9\u001d9&B\u000e\u007fPM\u000fc|L\u0011n;^^O\u0007I\n\\ No newline at end of file\ndiff --git a/data/defects4j_bugs/Lang_13b/.git/refs/tags/D4J_Lang_13_BUGGY_VERSION b/data/defects4j_bugs/Lang_13f/.git/refs/tags/D4J_Lang_13_BUGGY_VERSION\nindex 4a1ef74..53e7074 100644\n--- a/data/defects4j_bugs/Lang_13b/.git/refs/tags/D4J_Lang_13_BUGGY_VERSION\n+++ b/data/defects4j_bugs/Lang_13f/.git/refs/tags/D4J_Lang_13_BUGGY_VERSION\n@@ -1 +1 @@\n-dfa7d9d0449150916fbea4c8ed6dd653209b5577\n+2ccc06933e1f61ac8ea2db371dd996ea7adde2d2\ndiff --git a/data/defects4j_bugs/Lang_13b/.git/refs/tags/D4J_Lang_13_FIXED_VERSION b/data/defects4j_bugs/Lang_13f/.git/refs/tags/D4J_Lang_13_FIXED_VERSION\nindex a043aa0..149b881 100644\n--- a/data/defects4j_bugs/Lang_13b/.git/refs/tags/D4J_Lang_13_FIXED_VERSION\n+++ b/data/defects4j_bugs/Lang_13f/.git/refs/tags/D4J_Lang_13_FIXED_VERSION\n@@ -1 +1 @@\n-e55bd424ba45a3a0e19f4053a4f258fd3dcf2306\n+3f2c4474bb33f123000cbf7c2dbd337cf254ab71\ndiff --git a/data/defects4j_bugs/Lang_13b/.git/refs/tags/D4J_Lang_13_POST_FIX_COMPILABLE b/data/defects4j_bugs/Lang_13f/.git/refs/tags/D4J_Lang_13_POST_FIX_COMPILABLE\nindex 333b69a..18af502 100644\n--- a/data/defects4j_bugs/Lang_13b/.git/refs/tags/D4J_Lang_13_POST_FIX_COMPILABLE\n+++ b/data/defects4j_bugs/Lang_13f/.git/refs/tags/D4J_Lang_13_POST_FIX_COMPILABLE\n@@ -1 +1 @@\n-a6bd825dc912665b35534ef3f0b3e0cf2b256de6\n+b6ec13d90f4e4e215af75bb29e4227c5b391330d\ndiff --git a/data/defects4j_bugs/Lang_13b/.git/refs/tags/D4J_Lang_13_POST_FIX_REVISION b/data/defects4j_bugs/Lang_13f/.git/refs/tags/D4J_Lang_13_POST_FIX_REVISION\nindex daa9304..8794d51 100644\n--- a/data/defects4j_bugs/Lang_13b/.git/refs/tags/D4J_Lang_13_POST_FIX_REVISION\n+++ b/data/defects4j_bugs/Lang_13f/.git/refs/tags/D4J_Lang_13_POST_FIX_REVISION\n@@ -1 +1 @@\n-58f29f35b6f92cf2535199d56e08fb5947a5f4b4\n+d1d5d4d4a08b7f10d1c984388a93fe5302bff4ff\ndiff --git a/data/defects4j_bugs/Lang_13b/.git/refs/tags/D4J_Lang_13_PRE_FIX_REVISION b/data/defects4j_bugs/Lang_13f/.git/refs/tags/D4J_Lang_13_PRE_FIX_REVISION\nindex cf5a2ae..1656c7f 100644\n--- a/data/defects4j_bugs/Lang_13b/.git/refs/tags/D4J_Lang_13_PRE_FIX_REVISION\n+++ b/data/defects4j_bugs/Lang_13f/.git/refs/tags/D4J_Lang_13_PRE_FIX_REVISION\n@@ -1 +1 @@\n-8d57e543296b74ffc7f0bcd7a105a5052f12d7ff\n+8621a0b32a6829ca92d771f90f6d205064cad15a\ndiff --git a/data/defects4j_bugs/Lang_13b/src/main/java/org/apache/commons/lang3/SerializationUtils.java b/data/defects4j_bugs/Lang_13f/src/main/java/org/apache/commons/lang3/SerializationUtils.java\nindex 1ee636c..7c89b61 100644\n--- a/data/defects4j_bugs/Lang_13b/src/main/java/org/apache/commons/lang3/SerializationUtils.java\n+++ b/data/defects4j_bugs/Lang_13f/src/main/java/org/apache/commons/lang3/SerializationUtils.java\n@@ -236,6 +236,8 @@ public class SerializationUtils {\n      * class here is a workaround, see the JIRA issue LANG-626. </p>\n      */\n      static class ClassLoaderAwareObjectInputStream extends ObjectInputStream {\n+        private static final Map<String, Class<?>> primitiveTypes = \n+                new HashMap<String, Class<?>>();\n         private ClassLoader classLoader;\n         \n         /**\n@@ -249,6 +251,15 @@ public class SerializationUtils {\n             super(in);\n             this.classLoader = classLoader;\n \n+            primitiveTypes.put(\"byte\", byte.class);\n+            primitiveTypes.put(\"short\", short.class);\n+            primitiveTypes.put(\"int\", int.class);\n+            primitiveTypes.put(\"long\", long.class);\n+            primitiveTypes.put(\"float\", float.class);\n+            primitiveTypes.put(\"double\", double.class);\n+            primitiveTypes.put(\"boolean\", boolean.class);\n+            primitiveTypes.put(\"char\", char.class);\n+            primitiveTypes.put(\"void\", void.class);\n         }\n \n         /**\n@@ -265,7 +276,15 @@ public class SerializationUtils {\n             try {\n                 return Class.forName(name, false, classLoader);\n             } catch (ClassNotFoundException ex) {\n+                try {\n                     return Class.forName(name, false, Thread.currentThread().getContextClassLoader());\n+                } catch (ClassNotFoundException cnfe) {\n+                    Class<?> cls = primitiveTypes.get(name);\n+                    if (cls != null)\n+                        return cls;\n+                    else\n+                        throw cnfe;\n+                }\n             }\n         }\n \ndiff --git a/data/defects4j_bugs/Lang_13b/target/classes/org/apache/commons/lang3/SerializationUtils$ClassLoaderAwareObjectInputStream.class b/data/defects4j_bugs/Lang_13f/target/classes/org/apache/commons/lang3/SerializationUtils$ClassLoaderAwareObjectInputStream.class\nindex c6e0896..dcf65ae 100644\nBinary files a/data/defects4j_bugs/Lang_13b/target/classes/org/apache/commons/lang3/SerializationUtils$ClassLoaderAwareObjectInputStream.class and b/data/defects4j_bugs/Lang_13f/target/classes/org/apache/commons/lang3/SerializationUtils$ClassLoaderAwareObjectInputStream.class differ\n",
  "source_files_path": "data/defects4j_bugs/Lang_13_source"
}