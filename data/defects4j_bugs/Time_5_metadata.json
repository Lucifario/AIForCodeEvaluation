{
  "project": "Time",
  "bug_id": 5,
  "buggy_compiled": true,
  "fixed_compiled": true,
  "buggy_metadata": {
    "classes.modified": [
      "org.joda.time.Period"
    ],
    "tests.trigger": [
      "org.joda.time.TestPeriod_Basics::testNormalizedStandard_periodType_months1",
      "org.joda.time.TestPeriod_Basics::testNormalizedStandard_periodType_months2",
      "org.joda.time.TestPeriod_Basics::testNormalizedStandard_periodType_monthsWeeks"
    ],
    "dir.src.classes": [
      "src/main/java"
    ]
  },
  "fixed_metadata": {
    "classes.modified": [
      "org.joda.time.Period"
    ],
    "tests.trigger": [
      "org.joda.time.TestPeriod_Basics::testNormalizedStandard_periodType_months1",
      "org.joda.time.TestPeriod_Basics::testNormalizedStandard_periodType_months2",
      "org.joda.time.TestPeriod_Basics::testNormalizedStandard_periodType_monthsWeeks"
    ],
    "dir.src.classes": [
      "src/main/java"
    ]
  },
  "diff": "diff --git a/data/defects4j_bugs/Time_5b/.defects4j.config b/data/defects4j_bugs/Time_5f/.defects4j.config\nindex d3b6943..caf01fc 100644\n--- a/data/defects4j_bugs/Time_5b/.defects4j.config\n+++ b/data/defects4j_bugs/Time_5f/.defects4j.config\n@@ -1,3 +1,3 @@\n #File automatically generated by Defects4J\n pid=Time\n-vid=5b\n+vid=5f\ndiff --git a/data/defects4j_bugs/Time_5b/.git/HEAD b/data/defects4j_bugs/Time_5f/.git/HEAD\nindex 4922755..359ed61 100644\n--- a/data/defects4j_bugs/Time_5b/.git/HEAD\n+++ b/data/defects4j_bugs/Time_5f/.git/HEAD\n@@ -1 +1 @@\n-3b3e0419c44a6ac619a7225c1cbf175fd39021c6\n+0149bad1553f1c0b247940f65159cb657d1d8667\ndiff --git a/data/defects4j_bugs/Time_5b/.git/index b/data/defects4j_bugs/Time_5f/.git/index\nindex 6c65c10..f8f6934 100644\nBinary files a/data/defects4j_bugs/Time_5b/.git/index and b/data/defects4j_bugs/Time_5f/.git/index differ\ndiff --git a/data/defects4j_bugs/Time_5b/.git/logs/HEAD b/data/defects4j_bugs/Time_5f/.git/logs/HEAD\nindex 97e5a54..197640e 100644\n--- a/data/defects4j_bugs/Time_5b/.git/logs/HEAD\n+++ b/data/defects4j_bugs/Time_5f/.git/logs/HEAD\n@@ -1,9 +1,9 @@\n-0000000000000000000000000000000000000000 3c05be0bd6ea73a77bc782ac5acff937c53a6416 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761426198 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/joda-time.git\n-3c05be0bd6ea73a77bc782ac5acff937c53a6416 a6cb59ed2280ab0a32995fa8b5f1a7b0d47cb815 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761426198 -0700\tcheckout: moving from main to a6cb59ed2280ab0a32995fa8b5f1a7b0d47cb815\n-a6cb59ed2280ab0a32995fa8b5f1a7b0d47cb815 6a28ec58774d9da91504cc94c2ed388471eaba17 defects4j <defects4j@localhost> 1761426198 -0700\tcommit: D4J_Time_5_POST_FIX_REVISION\n-6a28ec58774d9da91504cc94c2ed388471eaba17 ca0563442b69b0f1cf49d60df2ec6512289aa6ef defects4j <defects4j@localhost> 1761426198 -0700\tcommit: D4J_Time_5_POST_FIX_COMPILABLE\n-ca0563442b69b0f1cf49d60df2ec6512289aa6ef 68314f1d5b8269fae9dd42abcf984fa4bce16f1d defects4j <defects4j@localhost> 1761426202 -0700\tcommit: D4J_Time_5_FIXED_VERSION\n-68314f1d5b8269fae9dd42abcf984fa4bce16f1d 3b3e0419c44a6ac619a7225c1cbf175fd39021c6 defects4j <defects4j@localhost> 1761426202 -0700\tcommit: D4J_Time_5_BUGGY_VERSION\n-3b3e0419c44a6ac619a7225c1cbf175fd39021c6 6a28ec58774d9da91504cc94c2ed388471eaba17 defects4j <defects4j@localhost> 1761426202 -0700\tcheckout: moving from 3b3e0419c44a6ac619a7225c1cbf175fd39021c6 to D4J_Time_5_POST_FIX_REVISION\n-6a28ec58774d9da91504cc94c2ed388471eaba17 61a2fbdb413a67e49bca27057594fe5f7688012b defects4j <defects4j@localhost> 1761426202 -0700\tcommit: D4J_Time_5_PRE_FIX_REVISION\n-61a2fbdb413a67e49bca27057594fe5f7688012b 3b3e0419c44a6ac619a7225c1cbf175fd39021c6 defects4j <defects4j@localhost> 1761426202 -0700\tcheckout: moving from 61a2fbdb413a67e49bca27057594fe5f7688012b to D4J_Time_5_BUGGY_VERSION\n+0000000000000000000000000000000000000000 3c05be0bd6ea73a77bc782ac5acff937c53a6416 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761426202 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/joda-time.git\n+3c05be0bd6ea73a77bc782ac5acff937c53a6416 a6cb59ed2280ab0a32995fa8b5f1a7b0d47cb815 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761426202 -0700\tcheckout: moving from main to a6cb59ed2280ab0a32995fa8b5f1a7b0d47cb815\n+a6cb59ed2280ab0a32995fa8b5f1a7b0d47cb815 efb7144cfe9351cfd184a28ca3c8d13c1258a7ae defects4j <defects4j@localhost> 1761426202 -0700\tcommit: D4J_Time_5_POST_FIX_REVISION\n+efb7144cfe9351cfd184a28ca3c8d13c1258a7ae 7c4ea679804bc238ac4e772edfec0f139a55c51a defects4j <defects4j@localhost> 1761426202 -0700\tcommit: D4J_Time_5_POST_FIX_COMPILABLE\n+7c4ea679804bc238ac4e772edfec0f139a55c51a 0149bad1553f1c0b247940f65159cb657d1d8667 defects4j <defects4j@localhost> 1761426205 -0700\tcommit: D4J_Time_5_FIXED_VERSION\n+0149bad1553f1c0b247940f65159cb657d1d8667 4d481a9abfa67685217b65d3ca35d7be7655a2f3 defects4j <defects4j@localhost> 1761426205 -0700\tcommit: D4J_Time_5_BUGGY_VERSION\n+4d481a9abfa67685217b65d3ca35d7be7655a2f3 efb7144cfe9351cfd184a28ca3c8d13c1258a7ae defects4j <defects4j@localhost> 1761426206 -0700\tcheckout: moving from 4d481a9abfa67685217b65d3ca35d7be7655a2f3 to D4J_Time_5_POST_FIX_REVISION\n+efb7144cfe9351cfd184a28ca3c8d13c1258a7ae 41b7c440b1c0a5ee03e87628c60afeb84cce0e96 defects4j <defects4j@localhost> 1761426206 -0700\tcommit: D4J_Time_5_PRE_FIX_REVISION\n+41b7c440b1c0a5ee03e87628c60afeb84cce0e96 0149bad1553f1c0b247940f65159cb657d1d8667 defects4j <defects4j@localhost> 1761426206 -0700\tcheckout: moving from 41b7c440b1c0a5ee03e87628c60afeb84cce0e96 to D4J_Time_5_FIXED_VERSION\ndiff --git a/data/defects4j_bugs/Time_5b/.git/logs/refs/heads/main b/data/defects4j_bugs/Time_5f/.git/logs/refs/heads/main\nindex 104df6d..58cd2eb 100644\n--- a/data/defects4j_bugs/Time_5b/.git/logs/refs/heads/main\n+++ b/data/defects4j_bugs/Time_5f/.git/logs/refs/heads/main\n@@ -1 +1 @@\n-0000000000000000000000000000000000000000 3c05be0bd6ea73a77bc782ac5acff937c53a6416 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761426198 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/joda-time.git\n+0000000000000000000000000000000000000000 3c05be0bd6ea73a77bc782ac5acff937c53a6416 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761426202 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/joda-time.git\ndiff --git a/data/defects4j_bugs/Time_5b/.git/logs/refs/remotes/origin/HEAD b/data/defects4j_bugs/Time_5f/.git/logs/refs/remotes/origin/HEAD\nindex 104df6d..58cd2eb 100644\n--- a/data/defects4j_bugs/Time_5b/.git/logs/refs/remotes/origin/HEAD\n+++ b/data/defects4j_bugs/Time_5f/.git/logs/refs/remotes/origin/HEAD\n@@ -1 +1 @@\n-0000000000000000000000000000000000000000 3c05be0bd6ea73a77bc782ac5acff937c53a6416 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761426198 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/joda-time.git\n+0000000000000000000000000000000000000000 3c05be0bd6ea73a77bc782ac5acff937c53a6416 Aayush Kumar <lucifario@Aayushs-MacBook-Pro.local> 1761426202 -0700\tclone: from /Users/lucifario/Documents/Code/AIForCodeReview/defects4j/project_repos/joda-time.git\ndiff --git a/data/defects4j_bugs/Time_5f/.git/objects/01/49bad1553f1c0b247940f65159cb657d1d8667 b/data/defects4j_bugs/Time_5f/.git/objects/01/49bad1553f1c0b247940f65159cb657d1d8667\nnew file mode 100644\nindex 0000000..0b40154\nBinary files /dev/null and b/data/defects4j_bugs/Time_5f/.git/objects/01/49bad1553f1c0b247940f65159cb657d1d8667 differ\ndiff --git a/data/defects4j_bugs/Time_5b/.git/objects/3b/3e0419c44a6ac619a7225c1cbf175fd39021c6 b/data/defects4j_bugs/Time_5b/.git/objects/3b/3e0419c44a6ac619a7225c1cbf175fd39021c6\ndeleted file mode 100644\nindex a0de24f..0000000\nBinary files a/data/defects4j_bugs/Time_5b/.git/objects/3b/3e0419c44a6ac619a7225c1cbf175fd39021c6 and /dev/null differ\ndiff --git a/data/defects4j_bugs/Time_5f/.git/objects/41/b7c440b1c0a5ee03e87628c60afeb84cce0e96 b/data/defects4j_bugs/Time_5f/.git/objects/41/b7c440b1c0a5ee03e87628c60afeb84cce0e96\nnew file mode 100644\nindex 0000000..4887318\n--- /dev/null\n+++ b/data/defects4j_bugs/Time_5f/.git/objects/41/b7c440b1c0a5ee03e87628c60afeb84cce0e96\n@@ -0,0 +1,2 @@\n+x\u0001M\u00021\u0010@a9E.0J*\n\".t]\f.TWWh\u0007{Zx\u007fa\u0016\u001e|x\u001aK\u03a7EEt\u000f\n+$\u0006\u000b50\u0012bg:$&!\u0010[uY\u04a1\u0005\"\u000fKo\u0013KLSo=[\u0017\u0012!G\u001dYR\u001d~t\u001d{]i\u0442Da\u0018U\u07a0j\u0003s\u0019%uS\u001e\t!K\n\\ No newline at end of file\ndiff --git a/data/defects4j_bugs/Time_5f/.git/objects/4d/481a9abfa67685217b65d3ca35d7be7655a2f3 b/data/defects4j_bugs/Time_5f/.git/objects/4d/481a9abfa67685217b65d3ca35d7be7655a2f3\nnew file mode 100644\nindex 0000000..9deee0b\nBinary files /dev/null and b/data/defects4j_bugs/Time_5f/.git/objects/4d/481a9abfa67685217b65d3ca35d7be7655a2f3 differ\ndiff --git a/data/defects4j_bugs/Time_5b/.git/objects/61/a2fbdb413a67e49bca27057594fe5f7688012b b/data/defects4j_bugs/Time_5b/.git/objects/61/a2fbdb413a67e49bca27057594fe5f7688012b\ndeleted file mode 100644\nindex 37361ef..0000000\nBinary files a/data/defects4j_bugs/Time_5b/.git/objects/61/a2fbdb413a67e49bca27057594fe5f7688012b and /dev/null differ\ndiff --git a/data/defects4j_bugs/Time_5b/.git/objects/68/314f1d5b8269fae9dd42abcf984fa4bce16f1d b/data/defects4j_bugs/Time_5b/.git/objects/68/314f1d5b8269fae9dd42abcf984fa4bce16f1d\ndeleted file mode 100644\nindex 93d05de..0000000\nBinary files a/data/defects4j_bugs/Time_5b/.git/objects/68/314f1d5b8269fae9dd42abcf984fa4bce16f1d and /dev/null differ\ndiff --git a/data/defects4j_bugs/Time_5b/.git/objects/6a/28ec58774d9da91504cc94c2ed388471eaba17 b/data/defects4j_bugs/Time_5b/.git/objects/6a/28ec58774d9da91504cc94c2ed388471eaba17\ndeleted file mode 100644\nindex a7adb15..0000000\nBinary files a/data/defects4j_bugs/Time_5b/.git/objects/6a/28ec58774d9da91504cc94c2ed388471eaba17 and /dev/null differ\ndiff --git a/data/defects4j_bugs/Time_5f/.git/objects/7c/4ea679804bc238ac4e772edfec0f139a55c51a b/data/defects4j_bugs/Time_5f/.git/objects/7c/4ea679804bc238ac4e772edfec0f139a55c51a\nnew file mode 100644\nindex 0000000..1493b1a\n--- /dev/null\n+++ b/data/defects4j_bugs/Time_5f/.git/objects/7c/4ea679804bc238ac4e772edfec0f139a55c51a\n@@ -0,0 +1,2 @@\n+x\u0001J\u00031\u0010qy0tfAP`\u000fd2+\u0007\u001fw4\u0018bK)\"\\)B%\u0004\u0001\u0618Fb\"4\u0005v_y\u0015\u000el\u001c(hA0G<0h$\u074f5~\u000f\u007fwY8_\u000f\n+\u0018W\u0011\u0006\u0006p;\u001f=k\u069f&Kv}zY\u001fm?l\u000fGrK\n\\ No newline at end of file\ndiff --git a/data/defects4j_bugs/Time_5b/.git/objects/ca/0563442b69b0f1cf49d60df2ec6512289aa6ef b/data/defects4j_bugs/Time_5b/.git/objects/ca/0563442b69b0f1cf49d60df2ec6512289aa6ef\ndeleted file mode 100644\nindex d26a0b1..0000000\nBinary files a/data/defects4j_bugs/Time_5b/.git/objects/ca/0563442b69b0f1cf49d60df2ec6512289aa6ef and /dev/null differ\ndiff --git a/data/defects4j_bugs/Time_5f/.git/objects/ef/b7144cfe9351cfd184a28ca3c8d13c1258a7ae b/data/defects4j_bugs/Time_5f/.git/objects/ef/b7144cfe9351cfd184a28ca3c8d13c1258a7ae\nnew file mode 100644\nindex 0000000..fa01844\nBinary files /dev/null and b/data/defects4j_bugs/Time_5f/.git/objects/ef/b7144cfe9351cfd184a28ca3c8d13c1258a7ae differ\ndiff --git a/data/defects4j_bugs/Time_5b/.git/refs/tags/D4J_Time_5_BUGGY_VERSION b/data/defects4j_bugs/Time_5f/.git/refs/tags/D4J_Time_5_BUGGY_VERSION\nindex 4922755..91de273 100644\n--- a/data/defects4j_bugs/Time_5b/.git/refs/tags/D4J_Time_5_BUGGY_VERSION\n+++ b/data/defects4j_bugs/Time_5f/.git/refs/tags/D4J_Time_5_BUGGY_VERSION\n@@ -1 +1 @@\n-3b3e0419c44a6ac619a7225c1cbf175fd39021c6\n+4d481a9abfa67685217b65d3ca35d7be7655a2f3\ndiff --git a/data/defects4j_bugs/Time_5b/.git/refs/tags/D4J_Time_5_FIXED_VERSION b/data/defects4j_bugs/Time_5f/.git/refs/tags/D4J_Time_5_FIXED_VERSION\nindex bc2e536..359ed61 100644\n--- a/data/defects4j_bugs/Time_5b/.git/refs/tags/D4J_Time_5_FIXED_VERSION\n+++ b/data/defects4j_bugs/Time_5f/.git/refs/tags/D4J_Time_5_FIXED_VERSION\n@@ -1 +1 @@\n-68314f1d5b8269fae9dd42abcf984fa4bce16f1d\n+0149bad1553f1c0b247940f65159cb657d1d8667\ndiff --git a/data/defects4j_bugs/Time_5b/.git/refs/tags/D4J_Time_5_POST_FIX_COMPILABLE b/data/defects4j_bugs/Time_5f/.git/refs/tags/D4J_Time_5_POST_FIX_COMPILABLE\nindex 163f34b..dd3df01 100644\n--- a/data/defects4j_bugs/Time_5b/.git/refs/tags/D4J_Time_5_POST_FIX_COMPILABLE\n+++ b/data/defects4j_bugs/Time_5f/.git/refs/tags/D4J_Time_5_POST_FIX_COMPILABLE\n@@ -1 +1 @@\n-ca0563442b69b0f1cf49d60df2ec6512289aa6ef\n+7c4ea679804bc238ac4e772edfec0f139a55c51a\ndiff --git a/data/defects4j_bugs/Time_5b/.git/refs/tags/D4J_Time_5_POST_FIX_REVISION b/data/defects4j_bugs/Time_5f/.git/refs/tags/D4J_Time_5_POST_FIX_REVISION\nindex cb081ce..77f84cb 100644\n--- a/data/defects4j_bugs/Time_5b/.git/refs/tags/D4J_Time_5_POST_FIX_REVISION\n+++ b/data/defects4j_bugs/Time_5f/.git/refs/tags/D4J_Time_5_POST_FIX_REVISION\n@@ -1 +1 @@\n-6a28ec58774d9da91504cc94c2ed388471eaba17\n+efb7144cfe9351cfd184a28ca3c8d13c1258a7ae\ndiff --git a/data/defects4j_bugs/Time_5b/.git/refs/tags/D4J_Time_5_PRE_FIX_REVISION b/data/defects4j_bugs/Time_5f/.git/refs/tags/D4J_Time_5_PRE_FIX_REVISION\nindex 7695e71..0817bd3 100644\n--- a/data/defects4j_bugs/Time_5b/.git/refs/tags/D4J_Time_5_PRE_FIX_REVISION\n+++ b/data/defects4j_bugs/Time_5f/.git/refs/tags/D4J_Time_5_PRE_FIX_REVISION\n@@ -1 +1 @@\n-61a2fbdb413a67e49bca27057594fe5f7688012b\n+41b7c440b1c0a5ee03e87628c60afeb84cce0e96\ndiff --git a/data/defects4j_bugs/Time_5b/src/main/java/org/joda/time/Period.java b/data/defects4j_bugs/Time_5f/src/main/java/org/joda/time/Period.java\nindex f404793..5ea67a7 100644\n--- a/data/defects4j_bugs/Time_5b/src/main/java/org/joda/time/Period.java\n+++ b/data/defects4j_bugs/Time_5f/src/main/java/org/joda/time/Period.java\n@@ -1625,13 +1625,19 @@ public final class Period\n         int years = getYears();\n         int months = getMonths();\n         if (years != 0 || months != 0) {\n-            years = FieldUtils.safeAdd(years, months / 12);\n-            months = months % 12;\n-            if (years != 0) {\n-                result = result.withYears(years);\n+            long totalMonths = years * 12L + months;\n+            if (type.isSupported(DurationFieldType.YEARS_TYPE)) {\n+                int normalizedYears = FieldUtils.safeToInt(totalMonths / 12);\n+                result = result.withYears(normalizedYears);\n+                totalMonths = totalMonths - (normalizedYears * 12);\n             }\n-            if (months != 0) {\n-                result = result.withMonths(months);\n+            if (type.isSupported(DurationFieldType.MONTHS_TYPE)) {\n+                int normalizedMonths = FieldUtils.safeToInt(totalMonths);\n+                result = result.withMonths(normalizedMonths);\n+                totalMonths = totalMonths - normalizedMonths;\n+            }\n+            if (totalMonths != 0) {\n+                throw new UnsupportedOperationException(\"Unable to normalize as PeriodType is missing either years or months but period has a month/year amount: \" + toString());\n             }\n         }\n         return result;\ndiff --git a/data/defects4j_bugs/Time_5b/target/classes/org/joda/time/Period.class b/data/defects4j_bugs/Time_5f/target/classes/org/joda/time/Period.class\nindex 4ff133f..ad51e37 100644\nBinary files a/data/defects4j_bugs/Time_5b/target/classes/org/joda/time/Period.class and b/data/defects4j_bugs/Time_5f/target/classes/org/joda/time/Period.class differ\n",
  "source_files_path": "data/defects4j_bugs/Time_5_source"
}