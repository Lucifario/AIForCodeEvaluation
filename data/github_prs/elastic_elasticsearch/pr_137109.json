{
  "id": 137109,
  "repository": "elastic/elasticsearch",
  "title": "[8.19] Use lowercase values for default_operator parameter (#136372)",
  "body": "# Backport\n\nThis will backport the following commits from `main` to `8.19`:\n - [Use lowercase values for default_operator parameter (#136372)](https://github.com/elastic/elasticsearch/pull/136372)\n\n<!--- Backport version: 10.0.1 -->\n\n### Questions ?\nPlease refer to the [Backport tool documentation](https://github.com/sorenlouv/backport)",
  "state": "closed",
  "merged": true,
  "merged_at": "2025-10-24T14:42:32+00:00",
  "created_at": "2025-10-24T13:40:46+00:00",
  "updated_at": "2025-10-24T14:42:33+00:00",
  "author": "pquentin",
  "reviewers": [],
  "base_sha": "3cceb31a58e841e6cd36286d17655fece7a74973",
  "head_sha": "8960897b6fda6cefefa7ebc2587960518e028ea4",
  "review_comments": [],
  "pr_comments": [],
  "files_changed": [
    {
      "filename": "rest-api-spec/src/main/resources/rest-api-spec/api/async_search.submit.json",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "patch": "@@ -78,10 +78,10 @@\n       \"default_operator\": {\n         \"type\": \"enum\",\n         \"options\": [\n-          \"AND\",\n-          \"OR\"\n+          \"and\",\n+          \"or\"\n         ],\n-        \"default\": \"OR\",\n+        \"default\": \"or\",\n         \"description\": \"The default operator for query string query (AND or OR)\"\n       },\n       \"df\": {"
    },
    {
      "filename": "rest-api-spec/src/main/resources/rest-api-spec/api/count.json",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "patch": "@@ -94,10 +94,10 @@\n       \"default_operator\": {\n         \"type\": \"enum\",\n         \"options\": [\n-          \"AND\",\n-          \"OR\"\n+          \"and\",\n+          \"or\"\n         ],\n-        \"default\": \"OR\",\n+        \"default\": \"or\",\n         \"description\": \"The default operator for query string query (AND or OR)\"\n       },\n       \"df\": {"
    },
    {
      "filename": "rest-api-spec/src/main/resources/rest-api-spec/api/delete_by_query.json",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "patch": "@@ -43,10 +43,10 @@\n       \"default_operator\": {\n         \"type\": \"enum\",\n         \"options\": [\n-          \"AND\",\n-          \"OR\"\n+          \"and\",\n+          \"or\"\n         ],\n-        \"default\": \"OR\",\n+        \"default\": \"or\",\n         \"description\": \"The default operator for query string query (AND or OR)\"\n       },\n       \"df\": {"
    },
    {
      "filename": "rest-api-spec/src/main/resources/rest-api-spec/api/explain.json",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "patch": "@@ -48,10 +48,10 @@\n       \"default_operator\": {\n         \"type\": \"enum\",\n         \"options\": [\n-          \"AND\",\n-          \"OR\"\n+          \"and\",\n+          \"or\"\n         ],\n-        \"default\": \"OR\",\n+        \"default\": \"or\",\n         \"description\": \"The default operator for query string query (AND or OR)\"\n       },\n       \"df\": {"
    },
    {
      "filename": "rest-api-spec/src/main/resources/rest-api-spec/api/indices.validate_query.json",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "patch": "@@ -82,10 +82,10 @@\n       \"default_operator\": {\n         \"type\": \"enum\",\n         \"options\": [\n-          \"AND\",\n-          \"OR\"\n+          \"and\",\n+          \"or\"\n         ],\n-        \"default\": \"OR\",\n+        \"default\": \"or\",\n         \"description\": \"The default operator for query string query (AND or OR)\"\n       },\n       \"df\": {"
    },
    {
      "filename": "rest-api-spec/src/main/resources/rest-api-spec/api/search.json",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "patch": "@@ -56,10 +56,10 @@\n       \"default_operator\": {\n         \"type\": \"enum\",\n         \"options\": [\n-          \"AND\",\n-          \"OR\"\n+          \"and\",\n+          \"or\"\n         ],\n-        \"default\": \"OR\",\n+        \"default\": \"or\",\n         \"description\": \"The default operator for query string query (AND or OR)\"\n       },\n       \"df\": {"
    },
    {
      "filename": "rest-api-spec/src/main/resources/rest-api-spec/api/update_by_query.json",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "patch": "@@ -43,10 +43,10 @@\n       \"default_operator\": {\n         \"type\": \"enum\",\n         \"options\": [\n-          \"AND\",\n-          \"OR\"\n+          \"and\",\n+          \"or\"\n         ],\n-        \"default\": \"OR\",\n+        \"default\": \"or\",\n         \"description\": \"The default operator for query string query (AND or OR)\"\n       },\n       \"df\": {"
    }
  ],
  "diff": "diff --git a/rest-api-spec/src/main/resources/rest-api-spec/api/async_search.submit.json b/rest-api-spec/src/main/resources/rest-api-spec/api/async_search.submit.json\nindex c0e299a3d3dba..0f79966bcfb10 100644\n--- a/rest-api-spec/src/main/resources/rest-api-spec/api/async_search.submit.json\n+++ b/rest-api-spec/src/main/resources/rest-api-spec/api/async_search.submit.json\n@@ -78,10 +78,10 @@\n       \"default_operator\": {\n         \"type\": \"enum\",\n         \"options\": [\n-          \"AND\",\n-          \"OR\"\n+          \"and\",\n+          \"or\"\n         ],\n-        \"default\": \"OR\",\n+        \"default\": \"or\",\n         \"description\": \"The default operator for query string query (AND or OR)\"\n       },\n       \"df\": {\ndiff --git a/rest-api-spec/src/main/resources/rest-api-spec/api/count.json b/rest-api-spec/src/main/resources/rest-api-spec/api/count.json\nindex 414e9d4be946a..395c75fc40e6c 100644\n--- a/rest-api-spec/src/main/resources/rest-api-spec/api/count.json\n+++ b/rest-api-spec/src/main/resources/rest-api-spec/api/count.json\n@@ -94,10 +94,10 @@\n       \"default_operator\": {\n         \"type\": \"enum\",\n         \"options\": [\n-          \"AND\",\n-          \"OR\"\n+          \"and\",\n+          \"or\"\n         ],\n-        \"default\": \"OR\",\n+        \"default\": \"or\",\n         \"description\": \"The default operator for query string query (AND or OR)\"\n       },\n       \"df\": {\ndiff --git a/rest-api-spec/src/main/resources/rest-api-spec/api/delete_by_query.json b/rest-api-spec/src/main/resources/rest-api-spec/api/delete_by_query.json\nindex a9888f0dc8dd2..1eb7725b47146 100644\n--- a/rest-api-spec/src/main/resources/rest-api-spec/api/delete_by_query.json\n+++ b/rest-api-spec/src/main/resources/rest-api-spec/api/delete_by_query.json\n@@ -43,10 +43,10 @@\n       \"default_operator\": {\n         \"type\": \"enum\",\n         \"options\": [\n-          \"AND\",\n-          \"OR\"\n+          \"and\",\n+          \"or\"\n         ],\n-        \"default\": \"OR\",\n+        \"default\": \"or\",\n         \"description\": \"The default operator for query string query (AND or OR)\"\n       },\n       \"df\": {\ndiff --git a/rest-api-spec/src/main/resources/rest-api-spec/api/explain.json b/rest-api-spec/src/main/resources/rest-api-spec/api/explain.json\nindex 6a23d3663c87f..dfcf18c3e4713 100644\n--- a/rest-api-spec/src/main/resources/rest-api-spec/api/explain.json\n+++ b/rest-api-spec/src/main/resources/rest-api-spec/api/explain.json\n@@ -48,10 +48,10 @@\n       \"default_operator\": {\n         \"type\": \"enum\",\n         \"options\": [\n-          \"AND\",\n-          \"OR\"\n+          \"and\",\n+          \"or\"\n         ],\n-        \"default\": \"OR\",\n+        \"default\": \"or\",\n         \"description\": \"The default operator for query string query (AND or OR)\"\n       },\n       \"df\": {\ndiff --git a/rest-api-spec/src/main/resources/rest-api-spec/api/indices.validate_query.json b/rest-api-spec/src/main/resources/rest-api-spec/api/indices.validate_query.json\nindex 64243e272cb9f..0d6a94678c192 100644\n--- a/rest-api-spec/src/main/resources/rest-api-spec/api/indices.validate_query.json\n+++ b/rest-api-spec/src/main/resources/rest-api-spec/api/indices.validate_query.json\n@@ -82,10 +82,10 @@\n       \"default_operator\": {\n         \"type\": \"enum\",\n         \"options\": [\n-          \"AND\",\n-          \"OR\"\n+          \"and\",\n+          \"or\"\n         ],\n-        \"default\": \"OR\",\n+        \"default\": \"or\",\n         \"description\": \"The default operator for query string query (AND or OR)\"\n       },\n       \"df\": {\ndiff --git a/rest-api-spec/src/main/resources/rest-api-spec/api/search.json b/rest-api-spec/src/main/resources/rest-api-spec/api/search.json\nindex 7b39aaf089e3e..2adebb3c2b411 100644\n--- a/rest-api-spec/src/main/resources/rest-api-spec/api/search.json\n+++ b/rest-api-spec/src/main/resources/rest-api-spec/api/search.json\n@@ -56,10 +56,10 @@\n       \"default_operator\": {\n         \"type\": \"enum\",\n         \"options\": [\n-          \"AND\",\n-          \"OR\"\n+          \"and\",\n+          \"or\"\n         ],\n-        \"default\": \"OR\",\n+        \"default\": \"or\",\n         \"description\": \"The default operator for query string query (AND or OR)\"\n       },\n       \"df\": {\ndiff --git a/rest-api-spec/src/main/resources/rest-api-spec/api/update_by_query.json b/rest-api-spec/src/main/resources/rest-api-spec/api/update_by_query.json\nindex d34303d7af2f6..07773bae3b826 100644\n--- a/rest-api-spec/src/main/resources/rest-api-spec/api/update_by_query.json\n+++ b/rest-api-spec/src/main/resources/rest-api-spec/api/update_by_query.json\n@@ -43,10 +43,10 @@\n       \"default_operator\": {\n         \"type\": \"enum\",\n         \"options\": [\n-          \"AND\",\n-          \"OR\"\n+          \"and\",\n+          \"or\"\n         ],\n-        \"default\": \"OR\",\n+        \"default\": \"or\",\n         \"description\": \"The default operator for query string query (AND or OR)\"\n       },\n       \"df\": {\n",
  "additions": 21,
  "deletions": 21,
  "changed_files": 7,
  "url": "https://github.com/elastic/elasticsearch/pull/137109",
  "mined_at": "2025-10-25T13:20:19.788539"
}