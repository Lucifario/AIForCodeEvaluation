{
  "id": 7956,
  "repository": "google/guava",
  "title": "Add a note about `int` parameters to `LongMath.checkedAdd()`, `LongMath.checkedSubtract()`, and `LongMath.checkedMultiply()`.",
  "body": "Add a note about `int` parameters to `LongMath.checkedAdd()`, `LongMath.checkedSubtract()`, and `LongMath.checkedMultiply()`.\n\nRELNOTES=n/a\n",
  "state": "closed",
  "merged": true,
  "merged_at": "2025-08-29T16:20:12+00:00",
  "created_at": "2025-08-29T15:55:36+00:00",
  "updated_at": "2025-08-29T16:20:13+00:00",
  "author": "copybara-service[bot]",
  "reviewers": [],
  "base_sha": "148cea0778b7ea2e362c794c02b29a62bd93daa2",
  "head_sha": "8d0b1e4bf83c6ef355d7a88b9be09d2a7e45102e",
  "review_comments": [],
  "pr_comments": [],
  "files_changed": [
    {
      "filename": "android/guava/src/com/google/common/math/LongMath.java",
      "status": "modified",
      "additions": 14,
      "deletions": 3,
      "changes": 17,
      "patch": "@@ -534,7 +534,10 @@ public static long gcd(long a, long b) {\n    * Returns the sum of {@code a} and {@code b}, provided it does not overflow.\n    *\n    * <p><b>Note:</b> this method is now unnecessary and should be treated as deprecated; use {@link\n-   * Math#addExact(long, long)} instead.\n+   * Math#addExact(long, long)} instead. Note that if both arguments are {@code int} values, writing\n+   * {@code Math.addExact(a, b)} will call the {@link Math#addExact(int, int)} overload, not {@link\n+   * Math#addExact(long, long)}. Also note that adding two {@code int} values can <b>never</b>\n+   * overflow a {@code long}, so you can just write {@code (long) a + b}.\n    *\n    * @throws ArithmeticException if {@code a + b} overflows in signed {@code long} arithmetic\n    */\n@@ -547,7 +550,11 @@ public static long checkedAdd(long a, long b) {\n    * Returns the difference of {@code a} and {@code b}, provided it does not overflow.\n    *\n    * <p><b>Note:</b> this method is now unnecessary and should be treated as deprecated; use {@link\n-   * Math#subtractExact(long, long)} instead.\n+   * Math#subtractExact(long, long)} instead. Note that if both arguments are {@code int} values,\n+   * writing {@code Math.subtractExact(a, b)} will call the {@link Math#subtractExact(int, int)}\n+   * overload, not {@link Math#subtractExact(long, long)}. Also note that subtracting two {@code\n+   * int} values can <b>never</b> overflow a {@code long}, so you can just write {@code (long) a -\n+   * b}.\n    *\n    * @throws ArithmeticException if {@code a - b} overflows in signed {@code long} arithmetic\n    */\n@@ -560,7 +567,11 @@ public static long checkedSubtract(long a, long b) {\n    * Returns the product of {@code a} and {@code b}, provided it does not overflow.\n    *\n    * <p><b>Note:</b> this method is now unnecessary and should be treated as deprecated; use {@link\n-   * Math#multiplyExact(long, long)} instead.\n+   * Math#multiplyExact(long, long)} instead. Note that if both arguments are {@code int} values,\n+   * writing {@code Math.multiplyExact(a, b)} will call the {@link Math#multiplyExact(int, int)}\n+   * overload, not {@link Math#multiplyExact(long, long)}. Also note that multiplying two {@code\n+   * int} values can <b>never</b> overflow a {@code long}, so you can just write {@code (long) a *\n+   * b}.\n    *\n    * @throws ArithmeticException if {@code a * b} overflows in signed {@code long} arithmetic\n    */"
    },
    {
      "filename": "guava/src/com/google/common/math/LongMath.java",
      "status": "modified",
      "additions": 14,
      "deletions": 3,
      "changes": 17,
      "patch": "@@ -534,7 +534,10 @@ public static long gcd(long a, long b) {\n    * Returns the sum of {@code a} and {@code b}, provided it does not overflow.\n    *\n    * <p><b>Note:</b> this method is now unnecessary and should be treated as deprecated; use {@link\n-   * Math#addExact(long, long)} instead.\n+   * Math#addExact(long, long)} instead. Note that if both arguments are {@code int} values, writing\n+   * {@code Math.addExact(a, b)} will call the {@link Math#addExact(int, int)} overload, not {@link\n+   * Math#addExact(long, long)}. Also note that adding two {@code int} values can <b>never</b>\n+   * overflow a {@code long}, so you can just write {@code (long) a + b}.\n    *\n    * @throws ArithmeticException if {@code a + b} overflows in signed {@code long} arithmetic\n    */\n@@ -547,7 +550,11 @@ public static long checkedAdd(long a, long b) {\n    * Returns the difference of {@code a} and {@code b}, provided it does not overflow.\n    *\n    * <p><b>Note:</b> this method is now unnecessary and should be treated as deprecated; use {@link\n-   * Math#subtractExact(long, long)} instead.\n+   * Math#subtractExact(long, long)} instead. Note that if both arguments are {@code int} values,\n+   * writing {@code Math.subtractExact(a, b)} will call the {@link Math#subtractExact(int, int)}\n+   * overload, not {@link Math#subtractExact(long, long)}. Also note that subtracting two {@code\n+   * int} values can <b>never</b> overflow a {@code long}, so you can just write {@code (long) a -\n+   * b}.\n    *\n    * @throws ArithmeticException if {@code a - b} overflows in signed {@code long} arithmetic\n    */\n@@ -560,7 +567,11 @@ public static long checkedSubtract(long a, long b) {\n    * Returns the product of {@code a} and {@code b}, provided it does not overflow.\n    *\n    * <p><b>Note:</b> this method is now unnecessary and should be treated as deprecated; use {@link\n-   * Math#multiplyExact(long, long)} instead.\n+   * Math#multiplyExact(long, long)} instead. Note that if both arguments are {@code int} values,\n+   * writing {@code Math.multiplyExact(a, b)} will call the {@link Math#multiplyExact(int, int)}\n+   * overload, not {@link Math#multiplyExact(long, long)}. Also note that multiplying two {@code\n+   * int} values can <b>never</b> overflow a {@code long}, so you can just write {@code (long) a *\n+   * b}.\n    *\n    * @throws ArithmeticException if {@code a * b} overflows in signed {@code long} arithmetic\n    */"
    }
  ],
  "diff": "diff --git a/android/guava/src/com/google/common/math/LongMath.java b/android/guava/src/com/google/common/math/LongMath.java\nindex 73b1c502f778..272791a649bc 100644\n--- a/android/guava/src/com/google/common/math/LongMath.java\n+++ b/android/guava/src/com/google/common/math/LongMath.java\n@@ -534,7 +534,10 @@ public static long gcd(long a, long b) {\n    * Returns the sum of {@code a} and {@code b}, provided it does not overflow.\n    *\n    * <p><b>Note:</b> this method is now unnecessary and should be treated as deprecated; use {@link\n-   * Math#addExact(long, long)} instead.\n+   * Math#addExact(long, long)} instead. Note that if both arguments are {@code int} values, writing\n+   * {@code Math.addExact(a, b)} will call the {@link Math#addExact(int, int)} overload, not {@link\n+   * Math#addExact(long, long)}. Also note that adding two {@code int} values can <b>never</b>\n+   * overflow a {@code long}, so you can just write {@code (long) a + b}.\n    *\n    * @throws ArithmeticException if {@code a + b} overflows in signed {@code long} arithmetic\n    */\n@@ -547,7 +550,11 @@ public static long checkedAdd(long a, long b) {\n    * Returns the difference of {@code a} and {@code b}, provided it does not overflow.\n    *\n    * <p><b>Note:</b> this method is now unnecessary and should be treated as deprecated; use {@link\n-   * Math#subtractExact(long, long)} instead.\n+   * Math#subtractExact(long, long)} instead. Note that if both arguments are {@code int} values,\n+   * writing {@code Math.subtractExact(a, b)} will call the {@link Math#subtractExact(int, int)}\n+   * overload, not {@link Math#subtractExact(long, long)}. Also note that subtracting two {@code\n+   * int} values can <b>never</b> overflow a {@code long}, so you can just write {@code (long) a -\n+   * b}.\n    *\n    * @throws ArithmeticException if {@code a - b} overflows in signed {@code long} arithmetic\n    */\n@@ -560,7 +567,11 @@ public static long checkedSubtract(long a, long b) {\n    * Returns the product of {@code a} and {@code b}, provided it does not overflow.\n    *\n    * <p><b>Note:</b> this method is now unnecessary and should be treated as deprecated; use {@link\n-   * Math#multiplyExact(long, long)} instead.\n+   * Math#multiplyExact(long, long)} instead. Note that if both arguments are {@code int} values,\n+   * writing {@code Math.multiplyExact(a, b)} will call the {@link Math#multiplyExact(int, int)}\n+   * overload, not {@link Math#multiplyExact(long, long)}. Also note that multiplying two {@code\n+   * int} values can <b>never</b> overflow a {@code long}, so you can just write {@code (long) a *\n+   * b}.\n    *\n    * @throws ArithmeticException if {@code a * b} overflows in signed {@code long} arithmetic\n    */\ndiff --git a/guava/src/com/google/common/math/LongMath.java b/guava/src/com/google/common/math/LongMath.java\nindex 73b1c502f778..272791a649bc 100644\n--- a/guava/src/com/google/common/math/LongMath.java\n+++ b/guava/src/com/google/common/math/LongMath.java\n@@ -534,7 +534,10 @@ public static long gcd(long a, long b) {\n    * Returns the sum of {@code a} and {@code b}, provided it does not overflow.\n    *\n    * <p><b>Note:</b> this method is now unnecessary and should be treated as deprecated; use {@link\n-   * Math#addExact(long, long)} instead.\n+   * Math#addExact(long, long)} instead. Note that if both arguments are {@code int} values, writing\n+   * {@code Math.addExact(a, b)} will call the {@link Math#addExact(int, int)} overload, not {@link\n+   * Math#addExact(long, long)}. Also note that adding two {@code int} values can <b>never</b>\n+   * overflow a {@code long}, so you can just write {@code (long) a + b}.\n    *\n    * @throws ArithmeticException if {@code a + b} overflows in signed {@code long} arithmetic\n    */\n@@ -547,7 +550,11 @@ public static long checkedAdd(long a, long b) {\n    * Returns the difference of {@code a} and {@code b}, provided it does not overflow.\n    *\n    * <p><b>Note:</b> this method is now unnecessary and should be treated as deprecated; use {@link\n-   * Math#subtractExact(long, long)} instead.\n+   * Math#subtractExact(long, long)} instead. Note that if both arguments are {@code int} values,\n+   * writing {@code Math.subtractExact(a, b)} will call the {@link Math#subtractExact(int, int)}\n+   * overload, not {@link Math#subtractExact(long, long)}. Also note that subtracting two {@code\n+   * int} values can <b>never</b> overflow a {@code long}, so you can just write {@code (long) a -\n+   * b}.\n    *\n    * @throws ArithmeticException if {@code a - b} overflows in signed {@code long} arithmetic\n    */\n@@ -560,7 +567,11 @@ public static long checkedSubtract(long a, long b) {\n    * Returns the product of {@code a} and {@code b}, provided it does not overflow.\n    *\n    * <p><b>Note:</b> this method is now unnecessary and should be treated as deprecated; use {@link\n-   * Math#multiplyExact(long, long)} instead.\n+   * Math#multiplyExact(long, long)} instead. Note that if both arguments are {@code int} values,\n+   * writing {@code Math.multiplyExact(a, b)} will call the {@link Math#multiplyExact(int, int)}\n+   * overload, not {@link Math#multiplyExact(long, long)}. Also note that multiplying two {@code\n+   * int} values can <b>never</b> overflow a {@code long}, so you can just write {@code (long) a *\n+   * b}.\n    *\n    * @throws ArithmeticException if {@code a * b} overflows in signed {@code long} arithmetic\n    */\n",
  "additions": 28,
  "deletions": 6,
  "changed_files": 2,
  "url": "https://github.com/google/guava/pull/7956",
  "mined_at": "2025-10-25T13:06:45.265707"
}