{
  "id": 8043,
  "repository": "google/guava",
  "title": "hasEdgeConnecting(): add tests to verify that these methods do not throw if one or both arguments are not present in the graph.",
  "body": "hasEdgeConnecting(): add tests to verify that these methods do not throw if one or both arguments are not present in the graph.\n\nRELNOTES=n/a\n",
  "state": "closed",
  "merged": true,
  "merged_at": "2025-10-06T20:15:01+00:00",
  "created_at": "2025-10-06T19:50:46+00:00",
  "updated_at": "2025-10-06T20:15:01+00:00",
  "author": "copybara-service[bot]",
  "reviewers": [],
  "base_sha": "2f7e6c5fc32ff5415bbdeb00657702f0b8adfb64",
  "head_sha": "a56d68aef71375acf39fcfb1cd535f2afcab4389",
  "review_comments": [],
  "pr_comments": [],
  "files_changed": [
    {
      "filename": "android/guava-tests/test/com/google/common/graph/AbstractNetworkTest.java",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "patch": "@@ -564,7 +564,7 @@ public void hasEdgeConnecting_disconnectedNodes() {\n   }\n \n   @Test\n-  public void hasEdgesConnecting_nodesNotInGraph() {\n+  public void hasEdgeConnecting_nodesNotInGraph() {\n     addNode(N1);\n     addNode(N2);\n     assertThat(network.hasEdgeConnecting(N1, NODE_NOT_IN_GRAPH)).isFalse();"
    },
    {
      "filename": "android/guava-tests/test/com/google/common/graph/AbstractStandardDirectedGraphTest.java",
      "status": "modified",
      "additions": 11,
      "deletions": 0,
      "changes": 11,
      "patch": "@@ -150,6 +150,17 @@ public void hasEdgeConnecting_mismatch() {\n     assertThat(graph.hasEdgeConnecting(EndpointPair.unordered(N2, N1))).isFalse();\n   }\n \n+  @Test\n+  public void hasEdgeConnecting_missingNode() {\n+    // both nodes missing\n+    assertThat(graph.hasEdgeConnecting(EndpointPair.ordered(NODE_NOT_IN_GRAPH, NODE_NOT_IN_GRAPH)))\n+        .isFalse();\n+\n+    // one node present, the other missing\n+    assertThat(graph.hasEdgeConnecting(EndpointPair.ordered(NODE_NOT_IN_GRAPH, N4))).isFalse();\n+    assertThat(graph.hasEdgeConnecting(EndpointPair.ordered(N4, NODE_NOT_IN_GRAPH))).isFalse();\n+  }\n+\n   @Test\n   public void adjacentNodes_selfLoop() {\n     assume().that(graph.allowsSelfLoops()).isTrue();"
    },
    {
      "filename": "android/guava-tests/test/com/google/common/graph/AbstractStandardUndirectedGraphTest.java",
      "status": "modified",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "patch": "@@ -153,6 +153,18 @@ public void hasEdgeConnecting_mismatch() {\n     assertThat(graph.hasEdgeConnecting(EndpointPair.ordered(N2, N1))).isFalse();\n   }\n \n+  @Test\n+  public void hasEdgeConnecting_missingNode() {\n+    // both nodes missing\n+    assertThat(\n+            graph.hasEdgeConnecting(EndpointPair.unordered(NODE_NOT_IN_GRAPH, NODE_NOT_IN_GRAPH)))\n+        .isFalse();\n+\n+    // one node present, the other missing\n+    assertThat(graph.hasEdgeConnecting(EndpointPair.unordered(NODE_NOT_IN_GRAPH, N4))).isFalse();\n+    assertThat(graph.hasEdgeConnecting(EndpointPair.unordered(N4, NODE_NOT_IN_GRAPH))).isFalse();\n+  }\n+\n   @Test\n   public void adjacentNodes_selfLoop() {\n     assume().that(graph.allowsSelfLoops()).isTrue();"
    },
    {
      "filename": "guava-tests/test/com/google/common/graph/AbstractNetworkTest.java",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "patch": "@@ -571,7 +571,7 @@ public void hasEdgeConnecting_disconnectedNodes() {\n   }\n \n   @Test\n-  public void hasEdgesConnecting_nodesNotInGraph() {\n+  public void hasEdgeConnecting_nodesNotInGraph() {\n     addNode(N1);\n     addNode(N2);\n     assertThat(network.hasEdgeConnecting(N1, NODE_NOT_IN_GRAPH)).isFalse();"
    },
    {
      "filename": "guava-tests/test/com/google/common/graph/AbstractStandardDirectedGraphTest.java",
      "status": "modified",
      "additions": 11,
      "deletions": 0,
      "changes": 11,
      "patch": "@@ -150,6 +150,17 @@ public void hasEdgeConnecting_mismatch() {\n     assertThat(graph.hasEdgeConnecting(EndpointPair.unordered(N2, N1))).isFalse();\n   }\n \n+  @Test\n+  public void hasEdgeConnecting_missingNode() {\n+    // both nodes missing\n+    assertThat(graph.hasEdgeConnecting(EndpointPair.ordered(NODE_NOT_IN_GRAPH, NODE_NOT_IN_GRAPH)))\n+        .isFalse();\n+\n+    // one node present, the other missing\n+    assertThat(graph.hasEdgeConnecting(EndpointPair.ordered(NODE_NOT_IN_GRAPH, N4))).isFalse();\n+    assertThat(graph.hasEdgeConnecting(EndpointPair.ordered(N4, NODE_NOT_IN_GRAPH))).isFalse();\n+  }\n+\n   @Test\n   public void adjacentNodes_selfLoop() {\n     assume().that(graph.allowsSelfLoops()).isTrue();"
    },
    {
      "filename": "guava-tests/test/com/google/common/graph/AbstractStandardUndirectedGraphTest.java",
      "status": "modified",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "patch": "@@ -153,6 +153,18 @@ public void hasEdgeConnecting_mismatch() {\n     assertThat(graph.hasEdgeConnecting(EndpointPair.ordered(N2, N1))).isFalse();\n   }\n \n+  @Test\n+  public void hasEdgeConnecting_missingNode() {\n+    // both nodes missing\n+    assertThat(\n+            graph.hasEdgeConnecting(EndpointPair.unordered(NODE_NOT_IN_GRAPH, NODE_NOT_IN_GRAPH)))\n+        .isFalse();\n+\n+    // one node present, the other missing\n+    assertThat(graph.hasEdgeConnecting(EndpointPair.unordered(NODE_NOT_IN_GRAPH, N4))).isFalse();\n+    assertThat(graph.hasEdgeConnecting(EndpointPair.unordered(N4, NODE_NOT_IN_GRAPH))).isFalse();\n+  }\n+\n   @Test\n   public void adjacentNodes_selfLoop() {\n     assume().that(graph.allowsSelfLoops()).isTrue();"
    }
  ],
  "diff": "diff --git a/android/guava-tests/test/com/google/common/graph/AbstractNetworkTest.java b/android/guava-tests/test/com/google/common/graph/AbstractNetworkTest.java\nindex d25a42fb26d2..b9fa89379f68 100644\n--- a/android/guava-tests/test/com/google/common/graph/AbstractNetworkTest.java\n+++ b/android/guava-tests/test/com/google/common/graph/AbstractNetworkTest.java\n@@ -564,7 +564,7 @@ public void hasEdgeConnecting_disconnectedNodes() {\n   }\n \n   @Test\n-  public void hasEdgesConnecting_nodesNotInGraph() {\n+  public void hasEdgeConnecting_nodesNotInGraph() {\n     addNode(N1);\n     addNode(N2);\n     assertThat(network.hasEdgeConnecting(N1, NODE_NOT_IN_GRAPH)).isFalse();\ndiff --git a/android/guava-tests/test/com/google/common/graph/AbstractStandardDirectedGraphTest.java b/android/guava-tests/test/com/google/common/graph/AbstractStandardDirectedGraphTest.java\nindex 8bca34facc66..313879f9f6ab 100644\n--- a/android/guava-tests/test/com/google/common/graph/AbstractStandardDirectedGraphTest.java\n+++ b/android/guava-tests/test/com/google/common/graph/AbstractStandardDirectedGraphTest.java\n@@ -150,6 +150,17 @@ public void hasEdgeConnecting_mismatch() {\n     assertThat(graph.hasEdgeConnecting(EndpointPair.unordered(N2, N1))).isFalse();\n   }\n \n+  @Test\n+  public void hasEdgeConnecting_missingNode() {\n+    // both nodes missing\n+    assertThat(graph.hasEdgeConnecting(EndpointPair.ordered(NODE_NOT_IN_GRAPH, NODE_NOT_IN_GRAPH)))\n+        .isFalse();\n+\n+    // one node present, the other missing\n+    assertThat(graph.hasEdgeConnecting(EndpointPair.ordered(NODE_NOT_IN_GRAPH, N4))).isFalse();\n+    assertThat(graph.hasEdgeConnecting(EndpointPair.ordered(N4, NODE_NOT_IN_GRAPH))).isFalse();\n+  }\n+\n   @Test\n   public void adjacentNodes_selfLoop() {\n     assume().that(graph.allowsSelfLoops()).isTrue();\ndiff --git a/android/guava-tests/test/com/google/common/graph/AbstractStandardUndirectedGraphTest.java b/android/guava-tests/test/com/google/common/graph/AbstractStandardUndirectedGraphTest.java\nindex 0af4dad4e9b1..d243858cc391 100644\n--- a/android/guava-tests/test/com/google/common/graph/AbstractStandardUndirectedGraphTest.java\n+++ b/android/guava-tests/test/com/google/common/graph/AbstractStandardUndirectedGraphTest.java\n@@ -153,6 +153,18 @@ public void hasEdgeConnecting_mismatch() {\n     assertThat(graph.hasEdgeConnecting(EndpointPair.ordered(N2, N1))).isFalse();\n   }\n \n+  @Test\n+  public void hasEdgeConnecting_missingNode() {\n+    // both nodes missing\n+    assertThat(\n+            graph.hasEdgeConnecting(EndpointPair.unordered(NODE_NOT_IN_GRAPH, NODE_NOT_IN_GRAPH)))\n+        .isFalse();\n+\n+    // one node present, the other missing\n+    assertThat(graph.hasEdgeConnecting(EndpointPair.unordered(NODE_NOT_IN_GRAPH, N4))).isFalse();\n+    assertThat(graph.hasEdgeConnecting(EndpointPair.unordered(N4, NODE_NOT_IN_GRAPH))).isFalse();\n+  }\n+\n   @Test\n   public void adjacentNodes_selfLoop() {\n     assume().that(graph.allowsSelfLoops()).isTrue();\ndiff --git a/guava-tests/test/com/google/common/graph/AbstractNetworkTest.java b/guava-tests/test/com/google/common/graph/AbstractNetworkTest.java\nindex 1bb639a5a3d1..da6bc5bd660b 100644\n--- a/guava-tests/test/com/google/common/graph/AbstractNetworkTest.java\n+++ b/guava-tests/test/com/google/common/graph/AbstractNetworkTest.java\n@@ -571,7 +571,7 @@ public void hasEdgeConnecting_disconnectedNodes() {\n   }\n \n   @Test\n-  public void hasEdgesConnecting_nodesNotInGraph() {\n+  public void hasEdgeConnecting_nodesNotInGraph() {\n     addNode(N1);\n     addNode(N2);\n     assertThat(network.hasEdgeConnecting(N1, NODE_NOT_IN_GRAPH)).isFalse();\ndiff --git a/guava-tests/test/com/google/common/graph/AbstractStandardDirectedGraphTest.java b/guava-tests/test/com/google/common/graph/AbstractStandardDirectedGraphTest.java\nindex 8bca34facc66..313879f9f6ab 100644\n--- a/guava-tests/test/com/google/common/graph/AbstractStandardDirectedGraphTest.java\n+++ b/guava-tests/test/com/google/common/graph/AbstractStandardDirectedGraphTest.java\n@@ -150,6 +150,17 @@ public void hasEdgeConnecting_mismatch() {\n     assertThat(graph.hasEdgeConnecting(EndpointPair.unordered(N2, N1))).isFalse();\n   }\n \n+  @Test\n+  public void hasEdgeConnecting_missingNode() {\n+    // both nodes missing\n+    assertThat(graph.hasEdgeConnecting(EndpointPair.ordered(NODE_NOT_IN_GRAPH, NODE_NOT_IN_GRAPH)))\n+        .isFalse();\n+\n+    // one node present, the other missing\n+    assertThat(graph.hasEdgeConnecting(EndpointPair.ordered(NODE_NOT_IN_GRAPH, N4))).isFalse();\n+    assertThat(graph.hasEdgeConnecting(EndpointPair.ordered(N4, NODE_NOT_IN_GRAPH))).isFalse();\n+  }\n+\n   @Test\n   public void adjacentNodes_selfLoop() {\n     assume().that(graph.allowsSelfLoops()).isTrue();\ndiff --git a/guava-tests/test/com/google/common/graph/AbstractStandardUndirectedGraphTest.java b/guava-tests/test/com/google/common/graph/AbstractStandardUndirectedGraphTest.java\nindex 0af4dad4e9b1..d243858cc391 100644\n--- a/guava-tests/test/com/google/common/graph/AbstractStandardUndirectedGraphTest.java\n+++ b/guava-tests/test/com/google/common/graph/AbstractStandardUndirectedGraphTest.java\n@@ -153,6 +153,18 @@ public void hasEdgeConnecting_mismatch() {\n     assertThat(graph.hasEdgeConnecting(EndpointPair.ordered(N2, N1))).isFalse();\n   }\n \n+  @Test\n+  public void hasEdgeConnecting_missingNode() {\n+    // both nodes missing\n+    assertThat(\n+            graph.hasEdgeConnecting(EndpointPair.unordered(NODE_NOT_IN_GRAPH, NODE_NOT_IN_GRAPH)))\n+        .isFalse();\n+\n+    // one node present, the other missing\n+    assertThat(graph.hasEdgeConnecting(EndpointPair.unordered(NODE_NOT_IN_GRAPH, N4))).isFalse();\n+    assertThat(graph.hasEdgeConnecting(EndpointPair.unordered(N4, NODE_NOT_IN_GRAPH))).isFalse();\n+  }\n+\n   @Test\n   public void adjacentNodes_selfLoop() {\n     assume().that(graph.allowsSelfLoops()).isTrue();\n",
  "additions": 48,
  "deletions": 2,
  "changed_files": 6,
  "url": "https://github.com/google/guava/pull/8043",
  "mined_at": "2025-10-25T12:50:59.938236"
}